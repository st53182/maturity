"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[304],{5304:function(a,e,t){t.r(e),t.d(e,{default:function(){return A}});var o=t(6436),s=t(7959),n=t(1469);const l={class:"roadmap-list-container"},d={class:"list-header"},r={key:0,class:"loading"},i={key:1,class:"empty-state"},c={key:2,class:"roadmaps-grid"},m=["onClick"],p={class:"meta"},u={class:"meta"},k={class:"card-actions"},h=["onClick"],C=["onClick"],w={class:"modal-content"},L={class:"modern-form"},v={class:"input-wrapper"},R={class:"modal-actions"};function f(a,e,t,f,b,g){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",d,[e[6]||(e[6]=(0,o.Lk)("h1",null,"–î–æ—Ä–æ–∂–Ω—ã–µ –∫–∞—Ä—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π",-1)),(0,o.Lk)("button",{onClick:e[0]||(e[0]=a=>b.showCreateModal=!0),class:"create-btn"},"‚ûï –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É")]),b.loading?((0,o.uX)(),(0,o.CE)("div",r,"–ó–∞–≥—Ä—É–∑–∫–∞...")):0===b.roadmaps.length?((0,o.uX)(),(0,o.CE)("div",i,[e[7]||(e[7]=(0,o.Lk)("p",null,"–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç",-1)),(0,o.Lk)("button",{onClick:e[1]||(e[1]=a=>b.showCreateModal=!0),class:"create-btn"},"–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∫–∞—Ä—Ç—É")])):((0,o.uX)(),(0,o.CE)("div",c,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.roadmaps,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.id,class:"roadmap-card",onClick:e=>g.openRoadmap(a.id)},[(0,o.Lk)("h3",null,(0,s.v_)(a.name),1),(0,o.Lk)("p",p,"–≠–ª–µ–º–µ–Ω—Ç–æ–≤: "+(0,s.v_)(a.item_count),1),(0,o.Lk)("p",u,"–û–±–Ω–æ–≤–ª–µ–Ω–æ: "+(0,s.v_)(g.formatDate(a.updated_at)),1),(0,o.Lk)("div",k,[(0,o.Lk)("button",{onClick:(0,n.D$)((e=>g.openRoadmap(a.id)),["stop"]),class:"open-btn"},"–û—Ç–∫—Ä—ã—Ç—å",8,h),(0,o.Lk)("button",{onClick:(0,n.D$)((e=>g.deleteRoadmap(a.id)),["stop"]),class:"delete-btn"},"üóë",8,C)])],8,m)))),128))])),b.showCreateModal?((0,o.uX)(),(0,o.CE)("div",{key:3,class:"modal-overlay",onClick:e[5]||(e[5]=(0,n.D$)((a=>b.showCreateModal=!1),["self"]))},[(0,o.Lk)("div",w,[e[10]||(e[10]=(0,o.Lk)("h2",null,"–°–æ–∑–¥–∞—Ç—å –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É",-1)),(0,o.Lk)("div",L,[(0,o.Lk)("div",v,[e[8]||(e[8]=(0,o.Lk)("span",{class:"input-icon"},"üìã",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>b.newRoadmapName=a),class:(0,s.C4)(["modern-input",{"has-value":b.newRoadmapName}])},null,2),[[n.Jo,b.newRoadmapName]]),e[9]||(e[9]=(0,o.Lk)("label",{class:"floating-label"},"–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã",-1))])]),(0,o.Lk)("div",R,[(0,o.Lk)("button",{onClick:e[3]||(e[3]=(...a)=>g.createRoadmap&&g.createRoadmap(...a)),class:"save-btn"},"–°–æ–∑–¥–∞—Ç—å"),(0,o.Lk)("button",{onClick:e[4]||(e[4]=a=>b.showCreateModal=!1),class:"cancel-btn"},"–û—Ç–º–µ–Ω–∞")])])])):(0,o.Q3)("",!0)])}t(4114);var b=t(8207),g={name:"RoadmapList",data(){return{roadmaps:[],loading:!0,showCreateModal:!1,newRoadmapName:""}},async mounted(){await this.loadRoadmaps()},methods:{async loadRoadmaps(){try{this.loading=!0;const a=localStorage.getItem("token"),{data:e}=await b.A.get("/api/roadmap",{headers:{Authorization:`Bearer ${a}`}});this.roadmaps=e}catch(a){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç:",a),alert("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Ä–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç")}finally{this.loading=!1}},async createRoadmap(){if(this.newRoadmapName.trim())try{const a=localStorage.getItem("token"),{data:e}=await b.A.post("/api/roadmap",{name:this.newRoadmapName},{headers:{Authorization:`Bearer ${a}`}});this.showCreateModal=!1,this.newRoadmapName="",await this.loadRoadmaps(),this.$router.push(`/roadmap/${e.id}`)}catch(a){console.error("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã:",a),alert("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã")}else alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã")},openRoadmap(a){this.$router.push(`/roadmap/${a}`)},async deleteRoadmap(a){if(confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É?"))try{const e=localStorage.getItem("token");await b.A.delete(`/api/roadmap/${a}`,{headers:{Authorization:`Bearer ${e}`}}),await this.loadRoadmaps()}catch(e){console.error("–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã:",e),alert("–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã")}},formatDate(a){if(!a)return"";const e=new Date(a);return e.toLocaleDateString("ru-RU")}}},y=t(5932);const $=(0,y.A)(g,[["render",f],["__scopeId","data-v-11021520"]]);var A=$}}]);
//# sourceMappingURL=304.99d47739.js.map