"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[660],{5660:function(t,n,o){o.r(n),o.d(n,{default:function(){return b}});var e=o(6768),i=o(4232),s=o(5130);const l={class:"poker-container"},a={class:"poker-title"},r={key:0,class:"join-form"},c={key:1},d={class:"joined-info"},u={class:"sp-buttons"},p=["onClick"],h={key:0,class:"vote-section"},k={key:0,class:"hints-box"};function m(t,n,o,m,y,v){return(0,e.uX)(),(0,e.CE)("div",l,[(0,e.Lk)("h1",a,"üÉè Planning Poker ‚Äî –ö–æ–º–Ω–∞—Ç–∞ "+(0,i.v_)(y.roomId),1),y.joined?((0,e.uX)(),(0,e.CE)("div",c,[(0,e.Lk)("div",d,[n[5]||(n[5]=(0,e.eW)(" üë§ –í—ã –≤–æ—à–ª–∏ –∫–∞–∫ ")),(0,e.Lk)("strong",null,(0,i.v_)(y.name),1),(0,e.eW)(" ("+(0,i.v_)(y.role)+") ",1)]),n[8]||(n[8]=(0,e.Lk)("h2",null,"üìå –û—Ü–µ–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É",-1)),(0,e.Lk)("div",u,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(y.storyPoints,(t=>((0,e.uX)(),(0,e.CE)("button",{key:t,onClick:n=>v.selectSP(t),class:(0,i.C4)(["sp-btn",{selected:y.selectedSP===t}])},(0,i.v_)(t),11,p)))),128))]),y.selectedSP?((0,e.uX)(),(0,e.CE)("div",h,[(0,e.Lk)("p",null,[n[6]||(n[6]=(0,e.eW)("‚úÖ –í—ã –≤—ã–±—Ä–∞–ª–∏: ")),(0,e.Lk)("strong",null,(0,i.v_)(y.selectedSP)+" SP",1)]),(0,e.Lk)("button",{class:"btn secondary",onClick:n[3]||(n[3]=(...t)=>v.submitVote&&v.submitVote(...t))},"üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å"),y.hints.length?((0,e.uX)(),(0,e.CE)("div",k,[n[7]||(n[7]=(0,e.Lk)("h3",null,"üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –ø–æ—Ö–æ–∂–∏–º –∏—Å—Ç–æ—Ä–∏—è–º:",-1)),(0,e.Lk)("ul",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(y.hints,((t,n)=>((0,e.uX)(),(0,e.CE)("li",{key:n},"‚Äî "+(0,i.v_)(t.story),1)))),128))])])):(0,e.Q3)("",!0)])):(0,e.Q3)("",!0)])):((0,e.uX)(),(0,e.CE)("div",r,[(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>y.name=t),placeholder:"–í–∞—à–µ –∏–º—è",class:"form-input"},null,512),[[s.Jo,y.name]]),(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>y.role=t),class:"form-input"},n[4]||(n[4]=[(0,e.Lk)("option",{disabled:"",value:""},"–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å",-1),(0,e.Lk)("option",null,"FE",-1),(0,e.Lk)("option",null,"BE",-1),(0,e.Lk)("option",null,"FullStack",-1),(0,e.Lk)("option",null,"QA",-1),(0,e.Lk)("option",null,"Analyst",-1)]),512),[[s.u1,y.role]]),(0,e.Lk)("button",{class:"btn primary",onClick:n[2]||(n[2]=(...t)=>v.joinRoom&&v.joinRoom(...t))},"üö™ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è")]))])}var y={data(){return{roomId:this.$route.params.roomId,name:"",role:"",joined:!1,participantId:null,storyPoints:[1,2,3,5,8,13,21],selectedSP:null,hints:[]}},methods:{async joinRoom(){if(!this.name||!this.role)return void alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ä–æ–ª—å");const t=await fetch(`/api/planning-room/${this.roomId}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,role:this.role})}),n=await t.json();this.participantId=n.participant_id,this.joined=!0},selectSP(t){this.selectedSP=t,this.fetchHints(t)},async fetchHints(t){const n=await fetch(`/api/planning-room/${this.roomId}/hints?sp=${t}&role=${this.role}`),o=await n.json();this.hints=o.hints||[]},async submitVote(){await fetch(`/api/planning-room/${this.roomId}/vote`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({story:"–ò—Å—Ç–æ—Ä–∏—è –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è",points:this.selectedSP,participant_id:this.participantId})}),alert("–ì–æ–ª–æ—Å —É—á—Ç—ë–Ω!")}}},v=o(1241);const f=(0,v.A)(y,[["render",m],["__scopeId","data-v-bdce1568"]]);var b=f}}]);
//# sourceMappingURL=660.6edd1b20.js.map