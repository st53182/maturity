{"version":3,"file":"js/626.2b7916d3.js","mappings":"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","sources":["webpack://frontend/./src/views/Surveys.vue","webpack://frontend/./src/components/TemplateEditor.vue","webpack://frontend/./src/components/TemplateEditor.vue?9416","webpack://frontend/./src/components/QuestionPreview.vue","webpack://frontend/./src/components/QuestionPreview.vue?5c1c","webpack://frontend/./src/views/Surveys.vue?22db"],"sourcesContent":["<template>\r\n  <div class=\"surveys-container\">\r\n    <h1>📋 {{ $t('surveys.title') }}</h1>\r\n    \r\n    <div class=\"create-survey-section\">\r\n      <h2>{{ $t('surveys.createSurvey') }}</h2>\r\n      \r\n      <div class=\"survey-type-selection\">\r\n        <div class=\"survey-type-card\" \r\n             :class=\"{ active: selectedType === 'enps' }\"\r\n             @click=\"selectSurveyType('enps')\">\r\n          <h3>📊 {{ $t('surveys.enpsTitle') }}</h3>\r\n          <p>Собрать обратную связь от сотрудников о текущем состоянии в команде</p>\r\n        </div>\r\n        \r\n        <div class=\"survey-type-card\"\r\n             :class=\"{ active: selectedType === '360' }\"\r\n             @click=\"selectSurveyType('360')\">\r\n          <h3>🔄 {{ $t('surveys.feedback360Title') }}</h3>\r\n          <p>Собрать анонимную обратную связь о конкретном сотруднике от коллег</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div v-if=\"selectedType\" class=\"survey-form\">\r\n        <input v-model=\"surveyTitle\" \r\n               :placeholder=\"$t('surveys.surveyTitle')\" \r\n               class=\"survey-input\" />\r\n        \r\n        <!-- Template Selection -->\r\n        <div class=\"template-selection\">\r\n          <label>Выберите шаблон:</label>\r\n          <select v-model=\"selectedTemplateId\" class=\"survey-select\">\r\n            <option value=\"\">Стандартный шаблон</option>\r\n            <option v-for=\"template in availableTemplates\" :key=\"template.id\" :value=\"template.id\">\r\n              {{ template.name }}\r\n            </option>\r\n          </select>\r\n          <button @click=\"editTemplate\" class=\"edit-template-btn\">\r\n            {{ selectedTemplateId ? 'Редактировать' : 'Создать свой' }}\r\n          </button>\r\n            <button\r\n    v-if=\"canDeleteSelectedTemplate\"\r\n    @click=\"deleteSelectedTemplate\"\r\n    class=\"delete-template-btn\"\r\n    title=\"Удалить выбранный шаблон\"\r\n  >\r\n    Удалить шаблон\r\n  </button>\r\n        </div>\r\n        \r\n        <!-- Optional Team Selection -->\r\n        <div class=\"optional-selection\">\r\n          <label>\r\n            <input type=\"checkbox\" v-model=\"useTeamSelection\" />\r\n            Привязать к команде\r\n          </label>\r\n          <select v-if=\"useTeamSelection && selectedType === 'enps'\" \r\n                  v-model=\"selectedTeamId\" \r\n                  class=\"survey-select\">\r\n            <option value=\"\">{{ $t('surveys.selectTeam') }}</option>\r\n            <option v-for=\"team in teams\" :key=\"team.id\" :value=\"team.id\">\r\n              {{ team.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        \r\n        <!-- Optional Employee Selection -->\r\n        <div class=\"optional-selection\">\r\n          <label>\r\n            <input type=\"checkbox\" v-model=\"useEmployeeSelection\" />\r\n            Привязать к сотруднику\r\n          </label>\r\n          <select v-if=\"useEmployeeSelection && selectedType === '360'\" \r\n                  v-model=\"selectedEmployeeId\" \r\n                  class=\"survey-select\">\r\n            <option value=\"\">{{ $t('surveys.selectEmployee') }}</option>\r\n            <option v-for=\"employee in employees\" :key=\"employee.id\" :value=\"employee.id\">\r\n              {{ employee.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        \r\n        <button @click=\"createSurvey\" \r\n                :disabled=\"!canCreateSurvey\"\r\n                class=\"create-survey-btn\">\r\n          {{ $t('surveys.createAndSend') }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"existing-surveys\">\r\n      <h2>Мои опросники</h2>\r\n      \r\n      <div v-if=\"loading\" class=\"loading\">⏳ Загрузка...</div>\r\n      \r\n      <div v-else-if=\"surveys.length === 0\" class=\"no-surveys\">\r\n        Нет созданных опросников\r\n      </div>\r\n      \r\n      <div v-else class=\"surveys-grid\">\r\n        <div v-for=\"survey in surveys\" :key=\"survey.id\" class=\"survey-card\">\r\n          <div class=\"survey-header\">\r\n            <h3>{{ survey.title }}</h3>\r\n            <span class=\"survey-type\">{{ survey.survey_type.toUpperCase() }}</span>\r\n          </div>\r\n          \r\n          <div class=\"survey-stats\">\r\n            <span>{{ $t('surveys.responses') }}: {{ survey.response_count }}</span>\r\n            <span class=\"survey-status\" :class=\"survey.status\">\r\n              {{ $t(`surveys.surveyStatus.${survey.status}`) }}\r\n            </span>\r\n          </div>\r\n          \r\n          <div class=\"survey-actions\">\r\n            <button @click=\"viewResults(survey.id)\" class=\"view-results-btn\">\r\n              📊 {{ $t('surveys.analytics') }}\r\n            </button>\r\n            <button @click=\"copySurveyLink(survey)\" class=\"copy-link-btn\">\r\n              🔗 {{ $t('surveys.copyLink') }}\r\n            </button>\r\n            <button @click=\"confirmDeleteSurvey(survey)\" class=\"delete-survey-btn\">\r\n              🗑️ Удалить\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Template Editor Modal -->\r\n    <TemplateEditor \r\n      :show=\"showTemplateEditor\"\r\n      :template=\"editingTemplate\"\r\n      :survey-type=\"selectedType\"\r\n      @close=\"closeTemplateEditor\"\r\n      @saved=\"onTemplateSaved\"\r\n    />\r\n    \r\n    <QuestionPreview \r\n      :show=\"showQuestionPreview\"\r\n      :questions=\"previewQuestions\"\r\n      :survey-title=\"surveyTitle\"\r\n      :survey-type=\"selectedType\"\r\n      @close=\"showQuestionPreview = false\"\r\n      @edit-questions=\"openTemplateEditor\"\r\n      @confirm-create=\"confirmCreateSurvey\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport TemplateEditor from '@/components/TemplateEditor.vue'\r\nimport QuestionPreview from '@/components/QuestionPreview.vue'\r\n\r\nexport default {\r\n  name: 'SurveyList',\r\n  components: {\r\n    TemplateEditor,\r\n    QuestionPreview\r\n  },\r\n  data() {\r\n    return {\r\n      selectedType: '',\r\n      surveyTitle: '',\r\n      selectedTeamId: '',\r\n      selectedEmployeeId: '',\r\n      selectedTemplateId: '',\r\n      useTeamSelection: false,\r\n      useEmployeeSelection: false,\r\n      teams: [],\r\n      employees: [],\r\n      surveys: [],\r\n      availableTemplates: [],\r\n      loading: false,\r\n      showTemplateEditor: false,\r\n      editingTemplate: null,\r\n      showQuestionPreview: false,\r\n      previewQuestions: []\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    canCreateSurvey() {\r\n      return this.surveyTitle && \r\n             (!this.useTeamSelection || this.selectedTeamId) &&\r\n             (!this.useEmployeeSelection || this.selectedEmployeeId)\r\n    },\r\n    currentTemplate() {\r\n    if (!this.selectedTemplateId) return null\r\n    return this.availableTemplates.find(t => t.id == this.selectedTemplateId) || null\r\n  },\r\n\r\n  // удобно для кнопки удаления\r\n  canDeleteSelectedTemplate() {\r\n    return !!(this.currentTemplate && !this.currentTemplate.is_default)\r\n  },\r\n\r\n  },\r\n  \r\n  async mounted() {\r\n    await this.fetchTeams()\r\n    await this.fetchEmployees()\r\n    await this.fetchSurveys()\r\n  },\r\n  \r\n  methods: {\r\n    selectSurveyType(type) {\r\n      this.selectedType = type\r\n      this.selectedTeamId = ''\r\n      this.selectedEmployeeId = ''\r\n      this.selectedTemplateId = ''\r\n      this.useTeamSelection = false\r\n      this.useEmployeeSelection = false\r\n      \r\n      this.fetchTemplates()\r\n      \r\n      if (type === 'enps') {\r\n        this.fetchTeams()\r\n      } else if (type === '360') {\r\n        this.fetchEmployees()\r\n      }\r\n    },\r\n\r\n    async fetchTemplates() {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        const response = await axios.get('/api/survey-templates', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        this.availableTemplates = response.data.filter(t => \r\n          t.survey_type === this.selectedType\r\n        )\r\n      } catch (error) {\r\n        console.error('Error fetching templates:', error)\r\n      }\r\n    },\r\n\r\n    async deleteSelectedTemplate() {\r\n  if (!this.canDeleteSelectedTemplate) return\r\n\r\n  const tpl = this.currentTemplate\r\n  const ok = window.confirm(`Удалить шаблон «${tpl.name}»? Это действие необратимо.`)\r\n  if (!ok) return\r\n\r\n  try {\r\n    const token = localStorage.getItem('token')\r\n    await axios.delete(`/api/survey-templates/${tpl.id}`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n    // сбрасываем выбор и обновляем список шаблонов\r\n    this.selectedTemplateId = ''\r\n    await this.fetchTemplates()\r\n    alert('Шаблон удалён')\r\n  } catch (e) {\r\n    const status = e?.response?.status\r\n    const msg = e?.response?.data?.error || 'Ошибка удаления'\r\n    if (status === 400 && /Default/i.test(msg)) {\r\n      alert('Дефолтные шаблоны удалять нельзя.')\r\n    } else if (status === 404) {\r\n      alert('Шаблон не найден или у вас нет прав.')\r\n    } else {\r\n      alert(msg)\r\n    }\r\n  }\r\n},\r\n    \r\n    editTemplate() {\r\n      console.log('editTemplate called with selectedTemplateId:', this.selectedTemplateId)\r\n      console.log('availableTemplates:', this.availableTemplates)\r\n      \r\n      if (this.selectedTemplateId) {\r\n        this.editingTemplate = this.availableTemplates.find(t => t.id == this.selectedTemplateId)\r\n        console.log('Found template for editing:', this.editingTemplate)\r\n      } else {\r\n        this.editingTemplate = null\r\n        console.log('No template selected, creating new template')\r\n      }\r\n      this.showTemplateEditor = true\r\n    },\r\n    \r\n    closeTemplateEditor() {\r\n      this.showTemplateEditor = false\r\n      this.editingTemplate = null\r\n    },\r\n    \r\n    async onTemplateSaved() {\r\n      await this.fetchTemplates()\r\n    },\r\n\r\n    async fetchTeams() {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        const response = await axios.get('/user_teams', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        this.teams = response.data\r\n      } catch (error) {\r\n        console.error('Error fetching teams:', error)\r\n      }\r\n    },\r\n    \r\n    async fetchEmployees() {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        const response = await axios.get('/api/employees', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        this.employees = response.data\r\n      } catch (error) {\r\n        console.error('Error fetching employees:', error)\r\n      }\r\n    },\r\n    \r\n    async fetchSurveys() {\r\n      try {\r\n        this.loading = true\r\n        const token = localStorage.getItem('token')\r\n        const response = await axios.get('/api/surveys', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        this.surveys = response.data\r\n      } catch (error) {\r\n        console.error('Error fetching surveys:', error)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    async createSurvey() {\r\n      let questions = null\r\n      if (this.selectedTemplateId) {\r\n        const template = this.availableTemplates.find(t => t.id === this.selectedTemplateId)\r\n        questions = template.questions\r\n      } else {\r\n        questions = this.selectedType === 'enps' ? this.getDefaultEnpsQuestions() : this.getDefault360Questions()\r\n      }\r\n      \r\n      this.previewQuestions = questions\r\n      this.showQuestionPreview = true\r\n    },\r\n\r\n    async confirmCreateSurvey() {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        \r\n        const surveyData = {\r\n          survey_type: this.selectedType,\r\n          title: this.surveyTitle,\r\n          team_id: this.useTeamSelection ? this.selectedTeamId : null,\r\n          target_employee_id: this.useEmployeeSelection ? this.selectedEmployeeId : null,\r\n          questions: this.previewQuestions\r\n        }\r\n        \r\n        const createResponse = await axios.post('/api/surveys', surveyData, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        \r\n        const surveyToken = createResponse.data.access_token\r\n        const link = `${window.location.origin}/survey/${surveyToken}`\r\n        \r\n        try {\r\n          await navigator.clipboard.writeText(link)\r\n          alert(`${this.$t('surveys.surveyCreated')}\\n\\nСсылка скопирована в буфер обмена!`)\r\n        } catch (clipboardError) {\r\n          console.error('Clipboard error:', clipboardError)\r\n          alert(`${this.$t('surveys.surveyCreated')}\\n\\nСсылка: ${link}`)\r\n        }\r\n        \r\n        this.resetForm()\r\n        this.showQuestionPreview = false\r\n        await this.fetchSurveys()\r\n        \r\n      } catch (error) {\r\n        console.error('Error creating survey:', error)\r\n        alert('Ошибка создания опросника')\r\n      }\r\n    },\r\n    \r\n    confirmDeleteSurvey(survey) {\r\n      if (confirm(`Вы уверены, что хотите удалить опросник \"${survey.title}\"?`)) {\r\n        this.deleteSurvey(survey.id)\r\n      }\r\n    },\r\n    \r\n    async deleteSurvey(surveyId) {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        await axios.delete(`/api/surveys/${surveyId}`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        \r\n        alert('Опросник удален!')\r\n        await this.fetchSurveys()\r\n      } catch (error) {\r\n        console.error('Error deleting survey:', error)\r\n        alert('Ошибка удаления опросника')\r\n      }\r\n    },\r\n    \r\n    resetForm() {\r\n      this.selectedType = ''\r\n      this.surveyTitle = ''\r\n      this.selectedTeamId = ''\r\n      this.selectedEmployeeId = ''\r\n      this.selectedTemplateId = ''\r\n      this.useTeamSelection = false\r\n      this.useEmployeeSelection = false\r\n      this.previewQuestions = []\r\n    },\r\n\r\n    getDefaultEnpsQuestions() {\r\n      return [\r\n        {\r\n          \"id\": 1,\r\n          \"type\": \"radio\",\r\n          \"question\": \"В каком формате вы работаете?\",\r\n          \"required\": true,\r\n          \"options\": [\r\n            {\"text\": \"Удаленно\", \"value\": \"remote\"},\r\n            {\"text\": \"В офисе\", \"value\": \"office\"},\r\n            {\"text\": \"Гибридно\", \"value\": \"hybrid\"}\r\n          ]\r\n        },\r\n        {\r\n          \"id\": 2,\r\n          \"type\": \"scale\",\r\n          \"question\": \"Насколько вы удовлетворены своей работой?\",\r\n          \"required\": true,\r\n          \"min\": 1,\r\n          \"max\": 10\r\n        },\r\n        {\r\n          \"id\": 3,\r\n          \"type\": \"scale\",\r\n          \"question\": \"Насколько вероятно, что вы порекомендуете нашу компанию как место работы друзьям или коллегам?\",\r\n          \"required\": true,\r\n          \"min\": 0,\r\n          \"max\": 10\r\n        },\r\n        {\r\n          \"id\": 4,\r\n          \"type\": \"scale\",\r\n          \"question\": \"Насколько вы удовлетворены балансом работы и личной жизни?\",\r\n          \"required\": true,\r\n          \"min\": 1,\r\n          \"max\": 10\r\n        },\r\n        {\r\n          \"id\": 5,\r\n          \"type\": \"scale\",\r\n          \"question\": \"Насколько вы удовлетворены возможностями профессионального развития?\",\r\n          \"required\": true,\r\n          \"min\": 1,\r\n          \"max\": 10\r\n        },\r\n        {\r\n          \"id\": 6,\r\n          \"type\": \"scale\",\r\n          \"question\": \"Насколько вы удовлетворены отношениями с коллегами?\",\r\n          \"required\": true,\r\n          \"min\": 1,\r\n          \"max\": 10\r\n        },\r\n        {\r\n          \"id\": 7,\r\n          \"type\": \"scale\",\r\n          \"question\": \"Насколько вы удовлетворены управлением и руководством?\",\r\n          \"required\": true,\r\n          \"min\": 1,\r\n          \"max\": 10\r\n        },\r\n        {\r\n          \"id\": 8,\r\n          \"type\": \"textarea\",\r\n          \"question\": \"Что вам больше всего нравится в работе в нашей компании?\",\r\n          \"required\": false\r\n        },\r\n        {\r\n          \"id\": 9,\r\n          \"type\": \"textarea\",\r\n          \"question\": \"Что бы вы хотели улучшить в нашей компании?\",\r\n          \"required\": false\r\n        }\r\n      ]\r\n    },\r\n\r\n    getDefault360Questions() {\r\n      return [\r\n        {\r\n          \"id\": 1,\r\n          \"type\": \"text\",\r\n          \"question\": \"Ваше имя (необязательно)\",\r\n          \"required\": false\r\n        },\r\n        {\r\n          \"id\": 2,\r\n          \"type\": \"text\",\r\n          \"question\": \"Ваша роль/должность\",\r\n          \"required\": false\r\n        },\r\n        {\r\n          \"id\": 3,\r\n          \"type\": \"radio\",\r\n          \"question\": \"Ваши отношения с оцениваемым сотрудником\",\r\n          \"required\": true,\r\n          \"options\": [\r\n            {\"text\": \"Руководитель\", \"value\": \"manager\"},\r\n            {\"text\": \"Коллега\", \"value\": \"peer\"},\r\n            {\"text\": \"Подчиненный\", \"value\": \"subordinate\"},\r\n            {\"text\": \"Клиент/Партнер\", \"value\": \"external\"}\r\n          ]\r\n        },\r\n        {\r\n          \"id\": 4,\r\n          \"type\": \"matrix\",\r\n          \"question\": \"Оцените компетенции сотрудника по шкале от 1 до 5\",\r\n          \"required\": true,\r\n          \"rows\": [\r\n            {\"text\": \"Профессиональные навыки\", \"value\": \"professional_skills\"},\r\n            {\"text\": \"Коммуникация\", \"value\": \"communication\"},\r\n            {\"text\": \"Лидерство\", \"value\": \"leadership\"},\r\n            {\"text\": \"Работа в команде\", \"value\": \"teamwork\"},\r\n            {\"text\": \"Решение проблем\", \"value\": \"problem_solving\"},\r\n            {\"text\": \"Адаптивность\", \"value\": \"adaptability\"}\r\n          ],\r\n          \"columns\": [\r\n            {\"text\": \"1 - Неудовлетворительно\", \"value\": \"1\"},\r\n            {\"text\": \"2 - Ниже ожиданий\", \"value\": \"2\"},\r\n            {\"text\": \"3 - Соответствует ожиданиям\", \"value\": \"3\"},\r\n            {\"text\": \"4 - Превышает ожидания\", \"value\": \"4\"},\r\n            {\"text\": \"5 - Выдающийся результат\", \"value\": \"5\"}\r\n          ]\r\n        },\r\n        {\r\n          \"id\": 5,\r\n          \"type\": \"textarea\",\r\n          \"question\": \"Что является главными сильными сторонами этого сотрудника?\",\r\n          \"required\": false\r\n        },\r\n        {\r\n          \"id\": 6,\r\n          \"type\": \"textarea\",\r\n          \"question\": \"В каких областях сотрудник мог бы улучшиться?\",\r\n          \"required\": false\r\n        }\r\n      ]\r\n    },\r\n\r\n    openTemplateEditor() {\r\n      this.showQuestionPreview = false\r\n      this.editingTemplate = {\r\n        name: `Кастомный ${this.selectedType.toUpperCase()} шаблон`,\r\n        survey_type: this.selectedType,\r\n        questions: this.previewQuestions\r\n      }\r\n      this.showTemplateEditor = true\r\n    },\r\n    \r\n    viewResults(surveyId) {\r\n      this.$router.push(`/survey/${surveyId}/results`)\r\n    },\r\n    \r\n    async copySurveyLink(survey) {\r\n      try {\r\n        const link = `${window.location.origin}/survey/${survey.access_token}`\r\n        \r\n        await navigator.clipboard.writeText(link)\r\n        alert('Ссылка скопирована в буфер обмена!')\r\n      } catch (error) {\r\n        console.error('Error copying link:', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.surveys-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.survey-type-selection {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.survey-type-card {\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.survey-type-card:hover {\r\n  border-color: #3498db;\r\n}\r\n\r\n.survey-type-card.active {\r\n  border-color: #2ecc71;\r\n  background-color: #f8fff8;\r\n}\r\n\r\n.survey-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  max-width: 500px;\r\n}\r\n\r\n.survey-input, .survey-select, .survey-textarea {\r\n  padding: 12px;\r\n  border: 2px solid #ddd;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n}\r\n\r\n.create-survey-btn {\r\n  background: #2ecc71;\r\n  color: white;\r\n  padding: 15px 30px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.create-survey-btn:hover:not(:disabled) {\r\n  background: #27ae60;\r\n}\r\n\r\n.create-survey-btn:disabled {\r\n  background: #bdc3c7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.surveys-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.survey-card {\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  background: white;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n}\r\n\r\n.survey-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.survey-type {\r\n  background: #3498db;\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n.survey-stats {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 15px;\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.survey-status.active {\r\n  color: #2ecc71;\r\n  font-weight: bold;\r\n}\r\n\r\n.survey-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.view-results-btn, .copy-link-btn, .delete-survey-btn {\r\n  flex: 1;\r\n  padding: 8px 12px;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.view-results-btn {\r\n  background: #3498db;\r\n  color: white;\r\n}\r\n\r\n.copy-link-btn {\r\n  background: #95a5a6;\r\n  color: white;\r\n}\r\n\r\n.delete-survey-btn {\r\n  background: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.view-results-btn:hover {\r\n  background: #2980b9;\r\n}\r\n\r\n.copy-link-btn:hover {\r\n  background: #7f8c8d;\r\n}\r\n\r\n.delete-survey-btn:hover {\r\n  background: #c82333;\r\n}\r\n\r\n.template-selection {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.template-selection label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.edit-template-btn {\r\n  background: #6c757d;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-left: 0.5rem;\r\n}\r\n\r\n.edit-template-btn:hover {\r\n  background: #5a6268;\r\n}\r\n\r\n.optional-selection {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.optional-selection label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.optional-selection input[type=\"checkbox\"] {\r\n  margin: 0;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"modal-overlay\" v-if=\"show\">\r\n    <div class=\"modal template-editor\">\r\n      <h2>{{ isEditing ? 'Редактировать шаблон' : 'Создать шаблон' }}</h2>\r\n      \r\n      <input v-model=\"templateName\" placeholder=\"Название шаблона\" class=\"template-input\" />\r\n      \r\n      <div class=\"questions-editor\">\r\n        <h3>Вопросы</h3>\r\n        <div v-for=\"(question, index) in questions\" :key=\"index\" class=\"question-item\">\r\n          <div class=\"question-header\">\r\n            <input v-model=\"question.question\" placeholder=\"Текст вопроса\" class=\"question-text\" />\r\n            <select v-model=\"question.type\" class=\"question-type\">\r\n              <option value=\"text\">Текст</option>\r\n              <option value=\"textarea\">Длинный текст</option>\r\n              <option value=\"radio\">Выбор варианта</option>\r\n              <option value=\"scale\">Шкала оценки</option>\r\n              <option value=\"matrix\">Матрица оценок</option>\r\n            </select>\r\n            <button @click=\"removeQuestion(index)\" class=\"remove-btn\">Удалить</button>\r\n          </div>\r\n          \r\n          <div v-if=\"question.type === 'radio'\" class=\"options-editor\">\r\n            <h4>Варианты ответов:</h4>\r\n            <div v-for=\"(option, optIndex) in question.options\" :key=\"optIndex\" class=\"option-item\">\r\n              <input v-model=\"option.text\" placeholder=\"Текст варианта\" />\r\n              <button @click=\"removeOption(index, optIndex)\" class=\"remove-option-btn\">×</button>\r\n            </div>\r\n            <button @click=\"addOption(index)\" class=\"add-option-btn\">Добавить вариант</button>\r\n          </div>\r\n          \r\n          <div v-if=\"question.type === 'scale'\" class=\"scale-editor\">\r\n            <label>Минимум: <input v-model.number=\"question.min\" type=\"number\" /></label>\r\n            <label>Максимум: <input v-model.number=\"question.max\" type=\"number\" /></label>\r\n          </div>\r\n          \r\n          <div v-if=\"question.type === 'matrix'\" class=\"matrix-editor\">\r\n            <h4>Строки матрицы:</h4>\r\n            <div v-for=\"(row, rowIndex) in question.rows\" :key=\"rowIndex\" class=\"matrix-row\">\r\n              <input v-model=\"row.text\" placeholder=\"Текст строки\" />\r\n              <button @click=\"removeMatrixRow(index, rowIndex)\" class=\"remove-option-btn\">×</button>\r\n            </div>\r\n            <button @click=\"addMatrixRow(index)\" class=\"add-option-btn\">Добавить строку</button>\r\n            \r\n            <h4>Колонки матрицы:</h4>\r\n            <div v-for=\"(col, colIndex) in question.columns\" :key=\"colIndex\" class=\"matrix-col\">\r\n              <input v-model=\"col.text\" placeholder=\"Текст колонки\" />\r\n              <button @click=\"removeMatrixCol(index, colIndex)\" class=\"remove-option-btn\">×</button>\r\n            </div>\r\n            <button @click=\"addMatrixCol(index)\" class=\"add-option-btn\">Добавить колонку</button>\r\n          </div>\r\n        </div>\r\n        <button @click=\"addQuestion\" class=\"add-question-btn\">Добавить вопрос</button>\r\n      </div>\r\n      \r\n      <div class=\"modal-buttons\">\r\n        <button @click=\"saveTemplate\" class=\"confirm-btn\">Сохранить</button>\r\n        <button @click=\"$emit('close')\" class=\"cancel-btn\">Отмена</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'TemplateEditor',\r\n  props: {\r\n    show: Boolean,\r\n    template: Object,\r\n    surveyType: String\r\n  },\r\n  data() {\r\n    return {\r\n      templateName: '',\r\n      questions: []\r\n    }\r\n  },\r\n  computed: {\r\n    isEditing() {\r\n      return !!this.template\r\n    }\r\n  },\r\n  watch: {\r\n    template: {\r\n      handler(newTemplate) {\r\n        if (newTemplate) {\r\n          this.templateName = newTemplate.name\r\n          this.questions = JSON.parse(JSON.stringify(newTemplate.questions))\r\n        } else {\r\n          this.resetForm()\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    resetForm() {\r\n      this.templateName = ''\r\n      this.questions = []\r\n    },\r\n    addQuestion() {\r\n      this.questions.push({\r\n        id: Date.now(),\r\n        type: 'text',\r\n        question: '',\r\n        required: false\r\n      })\r\n    },\r\n    removeQuestion(index) {\r\n      this.questions.splice(index, 1)\r\n    },\r\n    addOption(questionIndex) {\r\n      if (!this.questions[questionIndex].options) {\r\n        this.questions[questionIndex].options = []\r\n      }\r\n      this.questions[questionIndex].options.push({ text: '', value: '' })\r\n    },\r\n    removeOption(questionIndex, optionIndex) {\r\n      this.questions[questionIndex].options.splice(optionIndex, 1)\r\n    },\r\n    addMatrixRow(questionIndex) {\r\n      if (!this.questions[questionIndex].rows) {\r\n        this.questions[questionIndex].rows = []\r\n      }\r\n      this.questions[questionIndex].rows.push({ text: '', value: '' })\r\n    },\r\n    removeMatrixRow(questionIndex, rowIndex) {\r\n      this.questions[questionIndex].rows.splice(rowIndex, 1)\r\n    },\r\n    addMatrixCol(questionIndex) {\r\n      if (!this.questions[questionIndex].columns) {\r\n        this.questions[questionIndex].columns = []\r\n      }\r\n      this.questions[questionIndex].columns.push({ text: '', value: '' })\r\n    },\r\n    removeMatrixCol(questionIndex, colIndex) {\r\n      this.questions[questionIndex].columns.splice(colIndex, 1)\r\n    },\r\n    async saveTemplate() {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        \r\n        if (!this.templateName.trim()) {\r\n          alert('Название шаблона обязательно')\r\n          return\r\n        }\r\n        \r\n        if (!this.questions || this.questions.length === 0) {\r\n          alert('Добавьте хотя бы один вопрос')\r\n          return\r\n        }\r\n        \r\n        for (let i = 0; i < this.questions.length; i++) {\r\n          const question = this.questions[i]\r\n          if (!question.question || !question.question.trim()) {\r\n            alert(`Вопрос ${i + 1}: Текст вопроса обязателен`)\r\n            return\r\n          }\r\n          if (!question.type) {\r\n            alert(`Вопрос ${i + 1}: Тип вопроса обязателен`)\r\n            return\r\n          }\r\n        }\r\n        \r\n        const templateData = {\r\n          name: this.templateName,\r\n          survey_type: this.surveyType,\r\n          questions: this.questions\r\n        }\r\n        \r\n        if (this.isEditing) {\r\n          console.log('Making PUT request to:', `/api/survey-templates/${this.template.id}`)\r\n          const response = await axios.put(`/api/survey-templates/${this.template.id}`, templateData, {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n          })\r\n          \r\n          if (response.data.template_id) {\r\n            console.log('New template created with ID:', response.data.template_id)\r\n            alert('Шаблон сохранен как новый пользовательский шаблон!')\r\n          } else {\r\n            console.log('Template updated successfully')\r\n            alert('Шаблон обновлен успешно!')\r\n          }\r\n        } else {\r\n          console.log('Making POST request to:', '/api/survey-templates')\r\n          await axios.post('/api/survey-templates', templateData, {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n          })\r\n          alert('Шаблон создан успешно!')\r\n        }\r\n        \r\n        this.$emit('saved')\r\n        this.$emit('close')\r\n      } catch (error) {\r\n        console.error('Error saving template:', error)\r\n        console.error('Response data:', error.response?.data)\r\n        const errorMessage = error.response?.data?.error || error.response?.data?.message || error.message\r\n        alert(`Ошибка сохранения шаблона: ${errorMessage}`)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.template-editor {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 8px;\r\n  max-width: 1600px;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n  width: 90%;\r\n}\r\n\r\n.template-input, .question-text {\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  margin-bottom: 1rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.questions-editor {\r\n  margin: 1rem 0;\r\n}\r\n\r\n.question-item {\r\n  border: 1px solid #eee;\r\n  padding: 1rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 4px;\r\n}\r\n\r\n.question-header {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.question-type {\r\n  padding: 0.5rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.remove-btn, .remove-option-btn {\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.add-question-btn, .add-option-btn {\r\n  background: #28a745;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.options-editor, .scale-editor, .matrix-editor {\r\n  margin-top: 0.5rem;\r\n  padding: 0.5rem;\r\n  background: #f8f9fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n.option-item, .matrix-row, .matrix-col {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.option-item input, .matrix-row input, .matrix-col input {\r\n  flex: 1;\r\n  padding: 0.25rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.scale-editor label {\r\n  display: inline-block;\r\n  margin-right: 1rem;\r\n}\r\n\r\n.scale-editor input {\r\n  width: 80px;\r\n  padding: 0.25rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.modal-buttons {\r\n  display: flex;\r\n  gap: 1rem;\r\n  justify-content: flex-end;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.confirm-btn {\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.cancel-btn {\r\n  background: #6c757d;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./TemplateEditor.vue?vue&type=template&id=0be3fc7d&scoped=true\"\nimport script from \"./TemplateEditor.vue?vue&type=script&lang=js\"\nexport * from \"./TemplateEditor.vue?vue&type=script&lang=js\"\n\nimport \"./TemplateEditor.vue?vue&type=style&index=0&id=0be3fc7d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0be3fc7d\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"modal-overlay\" v-if=\"show\">\r\n    <div class=\"modal question-preview\">\r\n      <h2>Предпросмотр вопросов: {{ surveyTitle }}</h2>\r\n      \r\n      <div class=\"questions-list\">\r\n        <div v-for=\"(question, index) in questions\" :key=\"index\" class=\"question-item\">\r\n          <div class=\"question-header\">\r\n            <span class=\"question-number\">{{ index + 1 }}.</span>\r\n            <span class=\"question-text\">{{ question.question }}</span>\r\n            <span class=\"question-type\">{{ getQuestionTypeLabel(question.type) }}</span>\r\n          </div>\r\n          \r\n          <div v-if=\"question.options\" class=\"question-options\">\r\n            <span v-for=\"option in question.options\" :key=\"option.value\" class=\"option-tag\">\r\n              {{ option.text }}\r\n            </span>\r\n          </div>\r\n          \r\n          <div v-if=\"question.type === 'matrix'\" class=\"matrix-preview\">\r\n            <div class=\"matrix-rows\">\r\n              <span v-for=\"row in question.rows\" :key=\"row.value\" class=\"row-tag\">\r\n                {{ row.text }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div v-if=\"question.type === 'scale'\" class=\"scale-preview\">\r\n            <span class=\"scale-info\">Шкала: {{ question.min || 1 }} - {{ question.max || 10 }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"modal-buttons\">\r\n        <button @click=\"editQuestions\" class=\"edit-btn\">Редактировать вопросы</button>\r\n        <button @click=\"confirmCreate\" class=\"confirm-btn\">Создать опросник</button>\r\n        <button @click=\"$emit('close')\" class=\"cancel-btn\">Отмена</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'QuestionPreview',\r\n  props: {\r\n    show: Boolean,\r\n    questions: Array,\r\n    surveyTitle: String,\r\n    surveyType: String\r\n  },\r\n  methods: {\r\n    getQuestionTypeLabel(type) {\r\n      const labels = {\r\n        'text': 'Текст',\r\n        'textarea': 'Длинный текст', \r\n        'radio': 'Выбор варианта',\r\n        'scale': 'Шкала оценки',\r\n        'matrix': 'Матрица оценок'\r\n      }\r\n      return labels[type] || type\r\n    },\r\n    editQuestions() {\r\n      this.$emit('edit-questions')\r\n    },\r\n    confirmCreate() {\r\n      this.$emit('confirm-create')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 30px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.question-preview {\r\n  max-width: 800px;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.questions-list {\r\n  margin: 20px 0;\r\n}\r\n\r\n.question-item {\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  margin-bottom: 15px;\r\n  background: #f9f9f9;\r\n}\r\n\r\n.question-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.question-number {\r\n  font-weight: bold;\r\n  color: #3498db;\r\n  min-width: 30px;\r\n}\r\n\r\n.question-text {\r\n  flex: 1;\r\n  font-weight: 500;\r\n}\r\n\r\n.question-type {\r\n  background: #ecf0f1;\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.question-options, .matrix-preview {\r\n  margin-top: 10px;\r\n}\r\n\r\n.option-tag, .row-tag {\r\n  display: inline-block;\r\n  background: #f8f9fa;\r\n  padding: 2px 6px;\r\n  margin: 2px;\r\n  border-radius: 3px;\r\n  font-size: 12px;\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.scale-preview {\r\n  margin-top: 10px;\r\n}\r\n\r\n.scale-info {\r\n  font-size: 12px;\r\n  color: #666;\r\n  background: #e9ecef;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.modal-buttons {\r\n  display: flex;\r\n  gap: 15px;\r\n  justify-content: flex-end;\r\n  margin-top: 30px;\r\n}\r\n\r\n.edit-btn, .confirm-btn, .cancel-btn {\r\n  padding: 12px 24px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.edit-btn {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.edit-btn:hover {\r\n  background: #5a6268;\r\n}\r\n\r\n.confirm-btn {\r\n  background: #2ecc71;\r\n  color: white;\r\n}\r\n\r\n.confirm-btn:hover {\r\n  background: #27ae60;\r\n}\r\n\r\n.cancel-btn {\r\n  background: #95a5a6;\r\n  color: white;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background: #7f8c8d;\r\n}\r\n</style>\r\n","import { render } from \"./QuestionPreview.vue?vue&type=template&id=14ba9a24&scoped=true\"\nimport script from \"./QuestionPreview.vue?vue&type=script&lang=js\"\nexport * from \"./QuestionPreview.vue?vue&type=script&lang=js\"\n\nimport \"./QuestionPreview.vue?vue&type=style&index=0&id=14ba9a24&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-14ba9a24\"]])\n\nexport default __exports__","import { render } from \"./Surveys.vue?vue&type=template&id=102b2926&scoped=true\"\nimport script from \"./Surveys.vue?vue&type=script&lang=js\"\nexport * from \"./Surveys.vue?vue&type=script&lang=js\"\n\nimport \"./Surveys.vue?vue&type=style&index=0&id=102b2926&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-102b2926\"]])\n\nexport default __exports__"],"names":["class","key","value","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_ctx","$t","_hoisted_2","_hoisted_3","_normalizeClass","active","$data","selectedType","onClick","_cache","$event","$options","selectSurveyType","_hoisted_4","surveyTitle","placeholder","_hoisted_5","_hoisted_6","selectedTemplateId","_Fragment","_renderList","availableTemplates","template","id","name","_hoisted_7","args","editTemplate","canDeleteSelectedTemplate","deleteSelectedTemplate","title","_createCommentVNode","_hoisted_8","type","useTeamSelection","_createTextVNode","selectedTeamId","_hoisted_9","teams","team","_hoisted_10","_hoisted_11","useEmployeeSelection","selectedEmployeeId","_hoisted_12","employees","employee","_hoisted_13","createSurvey","disabled","canCreateSurvey","_hoisted_14","_hoisted_15","loading","_hoisted_16","surveys","length","_hoisted_17","_hoisted_18","survey","_hoisted_19","_hoisted_20","survey_type","toUpperCase","_hoisted_21","response_count","status","_hoisted_22","viewResults","_hoisted_23","copySurveyLink","_hoisted_24","confirmDeleteSurvey","_hoisted_25","_createVNode","_component_TemplateEditor","show","showTemplateEditor","editingTemplate","onClose","closeTemplateEditor","onSaved","onTemplateSaved","_component_QuestionPreview","showQuestionPreview","questions","previewQuestions","onEditQuestions","openTemplateEditor","onConfirmCreate","confirmCreateSurvey","$props","isEditing","templateName","question","index","_createStaticVNode","removeQuestion","options","option","optIndex","text","removeOption","addOption","min","number","max","rows","row","rowIndex","removeMatrixRow","addMatrixRow","columns","col","colIndex","removeMatrixCol","addMatrixCol","addQuestion","saveTemplate","$emit","props","Boolean","Object","surveyType","String","data","computed","this","watch","handler","newTemplate","JSON","parse","stringify","resetForm","immediate","methods","push","Date","now","required","splice","questionIndex","optionIndex","token","localStorage","getItem","trim","alert","i","templateData","console","log","response","axios","put","headers","Authorization","template_id","post","error","errorMessage","message","__exports__","getQuestionTypeLabel","editQuestions","confirmCreate","Array","labels","components","TemplateEditor","QuestionPreview","currentTemplate","find","t","is_default","mounted","fetchTeams","fetchEmployees","fetchSurveys","fetchTemplates","get","filter","tpl","ok","window","confirm","delete","e","msg","test","getDefaultEnpsQuestions","getDefault360Questions","surveyData","team_id","target_employee_id","createResponse","surveyToken","access_token","link","location","origin","navigator","clipboard","writeText","clipboardError","deleteSurvey","surveyId","$router","render"],"sourceRoot":""}