{"version":3,"file":"js/113.8f7f83a3.js","mappings":"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","sources":["webpack://frontend/./src/views/TakeSurvey.vue","webpack://frontend/./src/views/TakeSurvey.vue?8bbd"],"sourcesContent":["<template>\r\n  <div class=\"take-survey-container\">\r\n    <div v-if=\"loading\" class=\"loading\">⏳ Загрузка опросника...</div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error\">❌ {{ error }}</div>\r\n    \r\n    <div v-else-if=\"submitted\" class=\"success\">\r\n      <h2>✅ Спасибо за участие!</h2>\r\n      <p>Ваши ответы успешно отправлены.</p>\r\n    </div>\r\n    \r\n    <div v-else class=\"survey-form\">\r\n      <div class=\"survey-header\">\r\n        <h1>{{ survey.title }}</h1>\r\n        <div class=\"survey-info\">\r\n          <span class=\"survey-type\">{{ survey.survey_type.toUpperCase() }}</span>\r\n          <span v-if=\"survey.deadline\" class=\"deadline\">\r\n            Срок: {{ formatDate(survey.deadline) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"progress-bar\">\r\n        <div class=\"progress\" :style=\"{ width: progressPercent + '%' }\"></div>\r\n      </div>\r\n      \r\n      <div class=\"question-container\">\r\n        <div v-if=\"currentQuestion\" class=\"question\">\r\n          <h3>{{ currentQuestion.question }}</h3>\r\n          \r\n          <input v-if=\"currentQuestion.type === 'text'\" \r\n                 v-model=\"answers[currentQuestion.id]\"\r\n                 type=\"text\"\r\n                 class=\"text-input\"\r\n                 :required=\"currentQuestion.required\" />\r\n          \r\n          <textarea v-if=\"currentQuestion.type === 'textarea'\"\r\n                    v-model=\"answers[currentQuestion.id]\"\r\n                    class=\"textarea-input\"\r\n                    rows=\"4\"\r\n                    :required=\"currentQuestion.required\"></textarea>\r\n          \r\n          <div v-if=\"currentQuestion.type === 'radio'\" class=\"radio-options\">\r\n            <label v-for=\"option in currentQuestion.options\" :key=\"typeof option === 'object' ? option.value : option\" class=\"radio-label\">\r\n              <input type=\"radio\" \r\n                     :value=\"typeof option === 'object' ? option.value : option\" \r\n                     v-model=\"answers[currentQuestion.id]\"\r\n                     :required=\"currentQuestion.required\" />\r\n              <span>{{ typeof option === 'object' ? option.text : option }}</span>\r\n            </label>\r\n          </div>\r\n          \r\n          <div v-if=\"currentQuestion.type === 'scale'\" class=\"scale-options\">\r\n            <div class=\"scale-labels\">\r\n              <span>1 (Низко)</span>\r\n              <span>5 (Высоко)</span>\r\n            </div>\r\n            <div class=\"scale-buttons\">\r\n              <button v-for=\"value in currentQuestion.scale\" \r\n                      :key=\"value\"\r\n                      :class=\"{ active: answers[currentQuestion.id] == value }\"\r\n                      @click=\"answers[currentQuestion.id] = value\"\r\n                      class=\"scale-btn\">\r\n                {{ value }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div v-if=\"currentQuestion.type === 'matrix'\" class=\"matrix-rating\">\r\n            <div class=\"matrix-header\">\r\n              <div class=\"matrix-scale-labels\">\r\n                <span class=\"empty-cell\"></span>\r\n                <span v-for=\"(label, idx) in (currentQuestion.columns || currentQuestion.scale || [])\" :key=\"idx\" class=\"scale-label\">\r\n                  {{ typeof label === 'object' ? label.text : label }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div v-for=\"(row, rowIdx) in (currentQuestion.rows || [])\" :key=\"rowIdx\" class=\"matrix-row\">\r\n              <div class=\"row-label\">{{ typeof row === 'object' ? row.text : row }}</div>\r\n              <div class=\"row-options\">\r\n                <label v-for=\"(label, colIdx) in (currentQuestion.columns || currentQuestion.scale || [])\" :key=\"colIdx\" class=\"matrix-option\">\r\n                  <input type=\"radio\" \r\n                         :name=\"`matrix_${currentQuestion.id}_${rowIdx}`\"\r\n                         :value=\"typeof label === 'object' ? label.value : label\"\r\n                         v-model=\"matrixAnswers[currentQuestion.id][typeof row === 'object' ? row.value : row]\" />\r\n                  <span class=\"radio-custom\"></span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"navigation-buttons\">\r\n          <button v-if=\"currentQuestionIndex > 0\" \r\n                  @click=\"previousQuestion\" \r\n                  class=\"nav-btn prev-btn\">\r\n            ← Назад\r\n          </button>\r\n          \r\n          <button v-if=\"currentQuestionIndex < survey.questions.length - 1\" \r\n                  @click=\"nextQuestion\" \r\n                  class=\"nav-btn next-btn\"\r\n                  :disabled=\"!isCurrentQuestionAnswered\">\r\n            Далее →\r\n          </button>\r\n          \r\n          <button v-if=\"currentQuestionIndex === survey.questions.length - 1\" \r\n                  @click=\"submitSurvey\" \r\n                  class=\"nav-btn submit-btn\"\r\n                  :disabled=\"!allRequiredAnswered\">\r\n            Отправить ответы\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'SurveyTaker',\r\n  data() {\r\n    return {\r\n      survey: null,\r\n      loading: true,\r\n      error: null,\r\n      submitted: false,\r\n      currentQuestionIndex: 0,\r\n      answers: {},\r\n      matrixAnswers: {}\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    currentQuestion() {\r\n      return this.survey?.questions[this.currentQuestionIndex]\r\n    },\r\n    \r\n    progressPercent() {\r\n      if (!this.survey) return 0\r\n      return ((this.currentQuestionIndex + 1) / this.survey.questions.length) * 100\r\n    },\r\n    \r\n    isCurrentQuestionAnswered() {\r\n      const question = this.currentQuestion\r\n      if (!question) return false\r\n      \r\n      if (question.type === 'matrix') {\r\n        const matrixData = this.matrixAnswers[question.id] || {}\r\n        return question.required ? \r\n          question.rows.every(row => matrixData[row]) : \r\n          true\r\n      }\r\n      \r\n      return question.required ? \r\n        (this.answers[question.id] !== undefined && this.answers[question.id] !== '') : \r\n        true\r\n    },\r\n    \r\n    allRequiredAnswered() {\r\n      return this.survey?.questions.every(question => {\r\n        if (!question.required) return true\r\n        \r\n        if (question.type === 'matrix') {\r\n          const matrixData = this.matrixAnswers[question.id] || {}\r\n          return question.rows.every(row => matrixData[row])\r\n        }\r\n        \r\n        return this.answers[question.id] !== undefined && this.answers[question.id] !== ''\r\n      })\r\n    }\r\n  },\r\n  \r\n  async mounted() {\r\n    await this.loadSurvey()\r\n  },\r\n  \r\n  methods: {\r\n    async loadSurvey() {\r\n      try {\r\n        const token = this.$route.params.token\r\n        const response = await axios.get(`/api/survey/${token}`)\r\n        this.survey = response.data\r\n        \r\n        this.survey.questions.forEach(question => {\r\n          if (question.type === 'matrix') {\r\n            this.matrixAnswers[question.id] = {}\r\n          }\r\n        })\r\n        \r\n      } catch (error) {\r\n        console.error('Error loading survey:', error)\r\n        this.error = error.response?.data?.error || 'Ошибка загрузки опросника'\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    nextQuestion() {\r\n      if (this.currentQuestionIndex < this.survey.questions.length - 1) {\r\n        this.currentQuestionIndex++\r\n      }\r\n    },\r\n    \r\n    previousQuestion() {\r\n      if (this.currentQuestionIndex > 0) {\r\n        this.currentQuestionIndex--\r\n      }\r\n    },\r\n    \r\n    async submitSurvey() {\r\n      try {\r\n        const token = this.$route.params.token\r\n        \r\n        const allAnswers = { ...this.answers }\r\n        Object.keys(this.matrixAnswers).forEach(questionId => {\r\n          allAnswers[questionId] = this.matrixAnswers[questionId]\r\n        })\r\n        \r\n        await axios.post(`/api/survey/${token}/submit`, {\r\n          answers: allAnswers,\r\n          respondent_name: this.answers[1]\r\n        })\r\n        \r\n        this.submitted = true\r\n        \r\n      } catch (error) {\r\n        console.error('Error submitting survey:', error)\r\n        alert('Ошибка отправки ответов')\r\n      }\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      return new Date(dateString).toLocaleDateString('ru-RU')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.take-survey-container {\r\n  max-width: 900px;\r\n  margin: 40px auto;\r\n  padding: 32px;\r\n  background: #ffffff;\r\n  border-radius: 20px;\r\n  box-shadow: 0 2px 16px rgba(0, 0, 0, 0.04);\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Inter\", \"Roboto\", sans-serif;\r\n}\r\n\r\n.survey-header {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.survey-info {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.survey-type {\r\n  background: #3498db;\r\n  color: white;\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n}\r\n\r\n.deadline {\r\n  color: #e74c3c;\r\n  font-weight: bold;\r\n}\r\n\r\n.progress-bar {\r\n  width: 100%;\r\n  height: 8px;\r\n  background: #ecf0f1;\r\n  border-radius: 4px;\r\n  margin-bottom: 30px;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #3498db, #2ecc71);\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.question {\r\n  background: white;\r\n  padding: 32px;\r\n  border-radius: 16px;\r\n  border: 2px solid #e5e7eb;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.05);\r\n  margin-bottom: 32px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.question:hover {\r\n  border-color: #cbd5e1;\r\n  box-shadow: 0 8px 24px rgba(0,0,0,0.08);\r\n}\r\n\r\n.question h3 {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  margin-bottom: 24px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.text-input, .textarea-input {\r\n  width: 100%;\r\n  padding: 14px 18px;\r\n  border: 2px solid #e5e7eb;\r\n  border-radius: 12px;\r\n  font-size: 15px;\r\n  margin-top: 15px;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Inter\", \"Roboto\", sans-serif;\r\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n  background: #ffffff;\r\n  color: #111827;\r\n  box-sizing: border-box;\r\n  line-height: 1.5;\r\n}\r\n\r\n.text-input::placeholder,\r\n.textarea-input::placeholder {\r\n  color: #9ca3af;\r\n  font-weight: 400;\r\n}\r\n\r\n.text-input:hover,\r\n.textarea-input:hover {\r\n  border-color: #cbd5e1;\r\n}\r\n\r\n.text-input:focus,\r\n.textarea-input:focus {\r\n  outline: none;\r\n  border-color: #3b82f6;\r\n  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.12), 0 2px 8px rgba(59, 130, 246, 0.08);\r\n  background: #fafbff;\r\n}\r\n\r\n.textarea-input {\r\n  min-height: 100px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.radio-options {\r\n  margin-top: 15px;\r\n}\r\n\r\n.radio-label {\r\n  display: block;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.radio-label input {\r\n  margin-right: 10px;\r\n}\r\n\r\n.scale-options {\r\n  margin-top: 15px;\r\n}\r\n\r\n.scale-labels {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.scale-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: center;\r\n}\r\n\r\n.scale-btn {\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 2px solid #ddd;\r\n  border-radius: 50%;\r\n  background: white;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.scale-btn:hover {\r\n  border-color: #3498db;\r\n}\r\n\r\n.scale-btn.active {\r\n  background: #3498db;\r\n  color: white;\r\n  border-color: #3498db;\r\n}\r\n\r\n.matrix-rating {\r\n  margin-top: 20px;\r\n}\r\n\r\n.matrix-header {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.matrix-scale-labels {\r\n  display: grid;\r\n  grid-template-columns: minmax(150px, 200px) repeat(auto-fit, minmax(80px, 1fr));\r\n  gap: 10px;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 12px;\r\n  padding-bottom: 8px;\r\n  border-bottom: 2px solid #e5e7eb;\r\n}\r\n\r\n.empty-cell {\r\n  /* Пустая ячейка для выравнивания */\r\n}\r\n\r\n.matrix-row {\r\n  display: grid;\r\n  grid-template-columns: minmax(150px, 200px) repeat(auto-fit, minmax(80px, 1fr));\r\n  gap: 10px;\r\n  align-items: center;\r\n  padding: 12px 0;\r\n  border-bottom: 1px solid #e5e7eb;\r\n  transition: background 0.2s ease;\r\n}\r\n\r\n.matrix-row:hover {\r\n  background: #f9fafb;\r\n  border-radius: 8px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .matrix-scale-labels,\r\n  .matrix-row {\r\n    grid-template-columns: minmax(120px, 150px) repeat(5, minmax(40px, 1fr));\r\n    gap: 5px;\r\n    font-size: 11px;\r\n  }\r\n}\r\n\r\n.row-label {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n.row-options {\r\n  display: contents;\r\n}\r\n\r\n.matrix-option {\r\n  display: flex;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.radio-custom {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #ddd;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n}\r\n\r\n.matrix-option input:checked + .radio-custom {\r\n  background: #3498db;\r\n  border-color: #3498db;\r\n}\r\n\r\n.navigation-buttons {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 15px;\r\n}\r\n\r\n.nav-btn {\r\n  padding: 14px 28px;\r\n  border: none;\r\n  border-radius: 10px;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  font-family: inherit;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.prev-btn {\r\n  background: #95a5a6;\r\n  color: white;\r\n}\r\n\r\n.next-btn {\r\n  background: #3498db;\r\n  color: white;\r\n}\r\n\r\n.submit-btn {\r\n  background: #2ecc71;\r\n  color: white;\r\n}\r\n\r\n.nav-btn:disabled {\r\n  background: #d1d5db;\r\n  cursor: not-allowed;\r\n  opacity: 0.6;\r\n  transform: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.success {\r\n  text-align: center;\r\n  padding: 50px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n}\r\n\r\n.loading, .error {\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n}\r\n\r\n.error {\r\n  color: #e74c3c;\r\n}\r\n</style>\r\n","import { render } from \"./TakeSurvey.vue?vue&type=template&id=5cd59798&scoped=true\"\nimport script from \"./TakeSurvey.vue?vue&type=script&lang=js\"\nexport * from \"./TakeSurvey.vue?vue&type=script&lang=js\"\n\nimport \"./TakeSurvey.vue?vue&type=style&index=0&id=5cd59798&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cd59798\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","$data","loading","_hoisted_2","error","_hoisted_3","_toDisplayString","submitted","_hoisted_4","_cache","_createElementVNode","_hoisted_5","_hoisted_6","survey","title","_hoisted_7","_hoisted_8","survey_type","toUpperCase","deadline","_hoisted_9","$options","formatDate","_createCommentVNode","_hoisted_10","style","_normalizeStyle","width","progressPercent","_hoisted_11","currentQuestion","_hoisted_12","question","type","$event","answers","id","required","_hoisted_13","rows","_hoisted_14","_hoisted_15","_Fragment","_renderList","options","option","value","_hoisted_16","text","_hoisted_17","_hoisted_18","scale","_normalizeClass","active","onClick","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","columns","label","idx","row","rowIdx","_hoisted_23","_hoisted_24","colIdx","name","matrixAnswers","_hoisted_25","_hoisted_26","currentQuestionIndex","args","previousQuestion","questions","length","nextQuestion","disabled","isCurrentQuestionAnswered","_hoisted_27","submitSurvey","allRequiredAnswered","_hoisted_28","data","computed","this","matrixData","every","undefined","mounted","loadSurvey","methods","token","$route","params","response","axios","get","forEach","console","allAnswers","Object","keys","questionId","post","respondent_name","alert","dateString","Date","toLocaleDateString","__exports__","render"],"sourceRoot":""}