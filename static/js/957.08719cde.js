"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[957],{7957:function(e,t,s){s.r(t),s.d(t,{default:function(){return We}});var l=s(6436),a=s(7959),i=s(1469);const o={class:"surveys-container"},n={class:"create-survey-section"},r={class:"survey-type-selection"},u={key:0,class:"survey-form"},d=["placeholder"],c={class:"template-selection"},p=["value"],v={class:"optional-selection"},m={value:""},y=["value"],h={class:"optional-selection"},k={value:""},L=["value"],g=["disabled"],b={class:"existing-surveys"},T={class:"surveys-header"},C={class:"filter-controls"},E={key:0,class:"loading"},S={key:1,class:"no-surveys"},f={key:2,class:"surveys-grid"},w={class:"survey-header"},q={class:"survey-badges"},x={class:"survey-type"},_={class:"survey-info"},I={class:"survey-stats"},$={key:0,class:"survey-date"},Q={key:1,class:"survey-deadline"},X={class:"survey-actions"},U=["onClick","disabled"],A=["onClick"],F=["onClick"],V=["onClick"],D=["onClick"],M={class:"modal-content edit-modal"},B={class:"edit-form"},J={class:"form-group"},K={class:"form-group"},z={class:"form-group"},N=["value"],P={class:"modal-actions"};function O(e,t,s,O,R,W){const j=(0,l.g2)("TemplateEditor"),H=(0,l.g2)("QuestionPreview");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("h1",null,"üìã "+(0,a.v_)(e.$t("surveys.title")),1),(0,l.Lk)("div",n,[(0,l.Lk)("h2",null,(0,a.v_)(e.$t("surveys.createSurvey")),1),(0,l.Lk)("div",r,[(0,l.Lk)("div",{class:(0,a.C4)(["survey-type-card",{active:"enps"===R.selectedType}]),onClick:t[0]||(t[0]=e=>W.selectSurveyType("enps"))},[(0,l.Lk)("h3",null,"üìä "+(0,a.v_)(e.$t("surveys.enpsTitle")),1),t[19]||(t[19]=(0,l.Lk)("p",null,"–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –æ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤ –∫–æ–º–∞–Ω–¥–µ",-1))],2),(0,l.Lk)("div",{class:(0,a.C4)(["survey-type-card",{active:"360"===R.selectedType}]),onClick:t[1]||(t[1]=e=>W.selectSurveyType("360"))},[(0,l.Lk)("h3",null,"üîÑ "+(0,a.v_)(e.$t("surveys.feedback360Title")),1),t[20]||(t[20]=(0,l.Lk)("p",null,"–°–æ–±—Ä–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ –æ—Ç –∫–æ–ª–ª–µ–≥",-1))],2)]),R.selectedType?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>R.surveyTitle=e),placeholder:e.$t("surveys.surveyTitle"),class:"survey-input"},null,8,d),[[i.Jo,R.surveyTitle]]),(0,l.Lk)("div",c,[t[22]||(t[22]=(0,l.Lk)("label",null,"–í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>R.selectedTemplateId=e),class:"survey-select"},[t[21]||(t[21]=(0,l.Lk)("option",{value:""},"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(R.availableTemplates,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.name),9,p)))),128))],512),[[i.u1,R.selectedTemplateId]]),(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>W.editTemplate&&W.editTemplate(...e)),class:"edit-template-btn"},(0,a.v_)(R.selectedTemplateId?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å":"–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π"),1),W.canDeleteSelectedTemplate?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[5]||(t[5]=(...e)=>W.deleteSelectedTemplate&&W.deleteSelectedTemplate(...e)),class:"delete-template-btn",title:"–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω"}," –£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω ")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",v,[(0,l.Lk)("label",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=e=>R.useTeamSelection=e)},null,512),[[i.lH,R.useTeamSelection]]),t[23]||(t[23]=(0,l.eW)(" –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫ –∫–æ–º–∞–Ω–¥–µ "))]),R.useTeamSelection&&"enps"===R.selectedType?(0,l.bo)(((0,l.uX)(),(0,l.CE)("select",{key:0,"onUpdate:modelValue":t[7]||(t[7]=e=>R.selectedTeamId=e),class:"survey-select"},[(0,l.Lk)("option",m,(0,a.v_)(e.$t("surveys.selectTeam")),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(R.teams,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.name),9,y)))),128))],512)),[[i.u1,R.selectedTeamId]]):(0,l.Q3)("",!0)]),(0,l.Lk)("div",h,[(0,l.Lk)("label",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>R.useEmployeeSelection=e)},null,512),[[i.lH,R.useEmployeeSelection]]),t[24]||(t[24]=(0,l.eW)(" –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É "))]),R.useEmployeeSelection&&"360"===R.selectedType?(0,l.bo)(((0,l.uX)(),(0,l.CE)("select",{key:0,"onUpdate:modelValue":t[9]||(t[9]=e=>R.selectedEmployeeId=e),class:"survey-select"},[(0,l.Lk)("option",k,(0,a.v_)(e.$t("surveys.selectEmployee")),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(R.employees,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.name),9,L)))),128))],512)),[[i.u1,R.selectedEmployeeId]]):(0,l.Q3)("",!0)]),(0,l.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>W.createSurvey&&W.createSurvey(...e)),disabled:!W.canCreateSurvey,class:"create-survey-btn"},(0,a.v_)(e.$t("surveys.createAndSend")),9,g)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",b,[(0,l.Lk)("div",T,[t[26]||(t[26]=(0,l.Lk)("h2",null,"–ú–æ–∏ –æ–ø—Ä–æ—Å–Ω–∏–∫–∏",-1)),(0,l.Lk)("div",C,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>R.statusFilter=e),class:"status-filter"},t[25]||(t[25]=[(0,l.Lk)("option",{value:""},"–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã",-1),(0,l.Lk)("option",{value:"draft"},"–ß–µ—Ä–Ω–æ–≤–∏–∫",-1),(0,l.Lk)("option",{value:"active"},"–ê–∫—Ç–∏–≤–Ω—ã–µ",-1),(0,l.Lk)("option",{value:"closed"},"–ó–∞–∫—Ä—ã—Ç—ã–µ",-1)]),512),[[i.u1,R.statusFilter]])])]),R.loading?((0,l.uX)(),(0,l.CE)("div",E,"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...")):0===W.filteredSurveys.length?((0,l.uX)(),(0,l.CE)("div",S," –ù–µ—Ç –æ–ø—Ä–æ—Å–Ω–∏–∫–æ–≤ ")):((0,l.uX)(),(0,l.CE)("div",f,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(W.filteredSurveys,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.id,class:"survey-card"},[(0,l.Lk)("div",w,[(0,l.Lk)("h3",null,(0,a.v_)(t.title),1),(0,l.Lk)("div",q,[(0,l.Lk)("span",x,(0,a.v_)(t.survey_type.toUpperCase()),1),(0,l.Lk)("span",{class:(0,a.C4)(["survey-status",t.status])},(0,a.v_)(W.getStatusLabel(t.status)),3)])]),(0,l.Lk)("div",_,[(0,l.Lk)("div",I,[(0,l.Lk)("span",null,[(0,l.eW)("üìä "+(0,a.v_)(e.$t("surveys.responses"))+": ",1),(0,l.Lk)("strong",null,(0,a.v_)(t.response_count),1)]),t.created_at?((0,l.uX)(),(0,l.CE)("span",$," üìÖ –°–æ–∑–¥–∞–Ω: "+(0,a.v_)(W.formatDate(t.created_at)),1)):(0,l.Q3)("",!0),t.deadline?((0,l.uX)(),(0,l.CE)("span",Q," ‚è∞ –î–µ–¥–ª–∞–π–Ω: "+(0,a.v_)(W.formatDate(t.deadline)),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",X,[(0,l.Lk)("button",{onClick:e=>W.viewResults(t.id),class:"view-results-btn",disabled:0===t.response_count}," üìä "+(0,a.v_)(e.$t("surveys.analytics")),9,U),(0,l.Lk)("button",{onClick:e=>W.editSurvey(t),class:"edit-survey-btn"}," ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ",8,A),(0,l.Lk)("button",{onClick:e=>W.copySurveyLink(t),class:"copy-link-btn"}," üîó "+(0,a.v_)(e.$t("surveys.copyLink")),9,F),(0,l.Lk)("button",{onClick:e=>W.toggleSurveyStatus(t),class:(0,a.C4)(["toggle-status-btn",t.status])},(0,a.v_)("active"===t.status?"‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å":"‚ñ∂Ô∏è –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"),11,V),(0,l.Lk)("button",{onClick:e=>W.confirmDeleteSurvey(t),class:"delete-survey-btn"}," üóëÔ∏è –£–¥–∞–ª–∏—Ç—å ",8,D)])])))),128))]))]),(0,l.bF)(j,{show:R.showTemplateEditor,template:R.editingTemplate,"survey-type":R.selectedType,onClose:W.closeTemplateEditor,onSaved:W.onTemplateSaved},null,8,["show","template","survey-type","onClose","onSaved"]),(0,l.bF)(H,{show:R.showQuestionPreview,questions:R.previewQuestions,"survey-title":R.surveyTitle,"survey-type":R.selectedType,onClose:t[12]||(t[12]=e=>R.showQuestionPreview=!1),onEditQuestions:W.openTemplateEditor,onConfirmCreate:W.confirmCreateSurvey},null,8,["show","questions","survey-title","survey-type","onEditQuestions","onConfirmCreate"]),R.showEditModal&&R.editingSurvey?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:t[18]||(t[18]=(0,i.D$)(((...e)=>W.closeEditModal&&W.closeEditModal(...e)),["self"]))},[(0,l.Lk)("div",M,[t[31]||(t[31]=(0,l.Lk)("h2",null,"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ä–æ—Å–Ω–∏–∫",-1)),(0,l.Lk)("div",B,[(0,l.Lk)("div",J,[t[27]||(t[27]=(0,l.Lk)("label",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>R.editingSurvey.title=e),class:"survey-input"},null,512),[[i.Jo,R.editingSurvey.title]])]),(0,l.Lk)("div",K,[t[29]||(t[29]=(0,l.Lk)("label",null,"–°—Ç–∞—Ç—É—Å:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[14]||(t[14]=e=>R.editingSurvey.status=e),class:"survey-select"},t[28]||(t[28]=[(0,l.Lk)("option",{value:"draft"},"–ß–µ—Ä–Ω–æ–≤–∏–∫",-1),(0,l.Lk)("option",{value:"active"},"–ê–∫—Ç–∏–≤–µ–Ω",-1),(0,l.Lk)("option",{value:"closed"},"–ó–∞–∫—Ä—ã—Ç",-1)]),512),[[i.u1,R.editingSurvey.status]])]),(0,l.Lk)("div",z,[t[30]||(t[30]=(0,l.Lk)("label",null,"–î–µ–¥–ª–∞–π–Ω (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local","onUpdate:modelValue":t[15]||(t[15]=e=>R.editingSurvey.deadline=e),class:"survey-input",value:R.editingSurvey.deadline?new Date(R.editingSurvey.deadline).toISOString().slice(0,16):""},null,8,N),[[i.Jo,R.editingSurvey.deadline]])])]),(0,l.Lk)("div",P,[(0,l.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>W.saveSurveyChanges&&W.saveSurveyChanges(...e)),class:"save-btn"},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),(0,l.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>W.closeEditModal&&W.closeEditModal(...e)),class:"cancel-btn"},"–û—Ç–º–µ–Ω–∞")])])])):(0,l.Q3)("",!0)])}s(4114),s(8111),s(2489),s(116);var R=s(8207);const W={key:0,class:"modal-overlay"},j={class:"modal template-editor"},H={class:"questions-editor"},G={class:"question-header"},Y=["onUpdate:modelValue"],Z=["onUpdate:modelValue"],ee=["onClick"],te={key:0,class:"options-editor"},se=["onUpdate:modelValue"],le=["onClick"],ae=["onClick"],ie={key:1,class:"scale-editor"},oe=["onUpdate:modelValue"],ne=["onUpdate:modelValue"],re={key:2,class:"matrix-editor"},ue=["onUpdate:modelValue"],de=["onClick"],ce=["onClick"],pe=["onUpdate:modelValue"],ve=["onClick"],me=["onClick"],ye={class:"modal-buttons"};function he(e,t,s,o,n,r){return s.show?((0,l.uX)(),(0,l.CE)("div",W,[(0,l.Lk)("div",j,[(0,l.Lk)("h2",null,(0,a.v_)(r.isEditing?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω":"–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω"),1),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.templateName=e),placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞",class:"template-input"},null,512),[[i.Jo,n.templateName]]),(0,l.Lk)("div",H,[t[10]||(t[10]=(0,l.Lk)("h3",null,"–í–æ–ø—Ä–æ—Å—ã",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.questions,((e,s)=>((0,l.uX)(),(0,l.CE)("div",{key:s,class:"question-item"},[(0,l.Lk)("div",G,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.question=t,placeholder:"–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",class:"question-text"},null,8,Y),[[i.Jo,e.question]]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t=>e.type=t,class:"question-type"},t[4]||(t[4]=[(0,l.Fv)('<option value="text" data-v-dd82eb94>–¢–µ–∫—Å—Ç</option><option value="textarea" data-v-dd82eb94>–î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</option><option value="radio" data-v-dd82eb94>–í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞</option><option value="scale" data-v-dd82eb94>–®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏</option><option value="matrix" data-v-dd82eb94>–ú–∞—Ç—Ä–∏—Ü–∞ –æ—Ü–µ–Ω–æ–∫</option>',5)]),8,Z),[[i.u1,e.type]]),(0,l.Lk)("button",{onClick:e=>r.removeQuestion(s),class:"remove-btn"},"–£–¥–∞–ª–∏—Ç—å",8,ee)]),"radio"===e.type?((0,l.uX)(),(0,l.CE)("div",te,[t[5]||(t[5]=(0,l.Lk)("h4",null,"–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.options,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"option-item"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.text=t,placeholder:"–¢–µ–∫—Å—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞"},null,8,se),[[i.Jo,e.text]]),(0,l.Lk)("button",{onClick:e=>r.removeOption(s,t),class:"remove-option-btn"},"√ó",8,le)])))),128)),(0,l.Lk)("button",{onClick:e=>r.addOption(s),class:"add-option-btn"},"–î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç",8,ae)])):(0,l.Q3)("",!0),"scale"===e.type?((0,l.uX)(),(0,l.CE)("div",ie,[(0,l.Lk)("label",null,[t[6]||(t[6]=(0,l.eW)("–ú–∏–Ω–∏–º—É–º: ")),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.min=t,type:"number"},null,8,oe),[[i.Jo,e.min,void 0,{number:!0}]])]),(0,l.Lk)("label",null,[t[7]||(t[7]=(0,l.eW)("–ú–∞–∫—Å–∏–º—É–º: ")),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.max=t,type:"number"},null,8,ne),[[i.Jo,e.max,void 0,{number:!0}]])])])):(0,l.Q3)("",!0),"matrix"===e.type?((0,l.uX)(),(0,l.CE)("div",re,[t[8]||(t[8]=(0,l.Lk)("h4",null,"–°—Ç—Ä–æ–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.rows,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"matrix-row"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.text=t,placeholder:"–¢–µ–∫—Å—Ç —Å—Ç—Ä–æ–∫–∏"},null,8,ue),[[i.Jo,e.text]]),(0,l.Lk)("button",{onClick:e=>r.removeMatrixRow(s,t),class:"remove-option-btn"},"√ó",8,de)])))),128)),(0,l.Lk)("button",{onClick:e=>r.addMatrixRow(s),class:"add-option-btn"},"–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É",8,ce),t[9]||(t[9]=(0,l.Lk)("h4",null,"–ö–æ–ª–æ–Ω–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.columns,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"matrix-col"},[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.text=t,placeholder:"–¢–µ–∫—Å—Ç –∫–æ–ª–æ–Ω–∫–∏"},null,8,pe),[[i.Jo,e.text]]),(0,l.Lk)("button",{onClick:e=>r.removeMatrixCol(s,t),class:"remove-option-btn"},"√ó",8,ve)])))),128)),(0,l.Lk)("button",{onClick:e=>r.addMatrixCol(s),class:"add-option-btn"},"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É",8,me)])):(0,l.Q3)("",!0)])))),128)),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.addQuestion&&r.addQuestion(...e)),class:"add-question-btn"},"–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å")]),(0,l.Lk)("div",ye,[(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.saveTemplate&&r.saveTemplate(...e)),class:"confirm-btn"},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),(0,l.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"cancel-btn"},"–û—Ç–º–µ–Ω–∞")])])])):(0,l.Q3)("",!0)}var ke={name:"TemplateEditor",props:{show:Boolean,template:Object,surveyType:String},data(){return{templateName:"",questions:[]}},computed:{isEditing(){return!!this.template}},watch:{template:{handler(e){e?(this.templateName=e.name,this.questions=JSON.parse(JSON.stringify(e.questions))):this.resetForm()},immediate:!0}},methods:{resetForm(){this.templateName="",this.questions=[]},addQuestion(){this.questions.push({id:Date.now(),type:"text",question:"",required:!1})},removeQuestion(e){this.questions.splice(e,1)},addOption(e){this.questions[e].options||(this.questions[e].options=[]),this.questions[e].options.push({text:"",value:""})},removeOption(e,t){this.questions[e].options.splice(t,1)},addMatrixRow(e){this.questions[e].rows||(this.questions[e].rows=[]),this.questions[e].rows.push({text:"",value:""})},removeMatrixRow(e,t){this.questions[e].rows.splice(t,1)},addMatrixCol(e){this.questions[e].columns||(this.questions[e].columns=[]),this.questions[e].columns.push({text:"",value:""})},removeMatrixCol(e,t){this.questions[e].columns.splice(t,1)},async saveTemplate(){try{const e=localStorage.getItem("token");if(!this.templateName.trim())return void alert("–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ");if(!this.questions||0===this.questions.length)return void alert("–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å");for(let s=0;s<this.questions.length;s++){const e=this.questions[s];if(!e.question||!e.question.trim())return void alert(`–í–æ–ø—Ä–æ—Å ${s+1}: –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω`);if(!e.type)return void alert(`–í–æ–ø—Ä–æ—Å ${s+1}: –¢–∏–ø –≤–æ–ø—Ä–æ—Å–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω`)}const t={name:this.templateName,survey_type:this.surveyType,questions:this.questions};if(this.isEditing){console.log("Making PUT request to:",`/api/survey-templates/${this.template.id}`);const s=await R.A.put(`/api/survey-templates/${this.template.id}`,t,{headers:{Authorization:`Bearer ${e}`}});s.data.template_id?(console.log("New template created with ID:",s.data.template_id),alert("–®–∞–±–ª–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–∞–∫ –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —à–∞–±–ª–æ–Ω!")):(console.log("Template updated successfully"),alert("–®–∞–±–ª–æ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!"))}else console.log("Making POST request to:","/api/survey-templates"),await R.A.post("/api/survey-templates",t,{headers:{Authorization:`Bearer ${e}`}}),alert("–®–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!");this.$emit("saved"),this.$emit("close")}catch(e){console.error("Error saving template:",e),console.error("Response data:",e.response?.data);const t=e.response?.data?.error||e.response?.data?.message||e.message;alert(`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞: ${t}`)}}}},Le=s(5932);const ge=(0,Le.A)(ke,[["render",he],["__scopeId","data-v-dd82eb94"]]);var be=ge;const Te={class:"modal question-preview"},Ce={class:"modal-header"},Ee={class:"survey-title-section"},Se={class:"survey-type-badge"},fe={class:"questions-list"},we={class:"question-header"},qe={class:"question-number"},xe={class:"question-content"},_e={class:"question-text"},Ie={key:0,class:"required-badge"},$e={class:"question-type"},Qe={key:0,class:"question-options"},Xe={key:1,class:"matrix-preview"},Ue={class:"matrix-info"},Ae={class:"matrix-rows"},Fe={class:"matrix-scale"},Ve={key:2,class:"scale-preview"},De={class:"scale-info"},Me={class:"modal-footer"},Be={class:"footer-info"},Je={class:"modal-buttons"};function Ke(e,t,s,o,n,r){return s.show?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=(0,i.D$)((t=>e.$emit("close")),["self"]))},[(0,l.Lk)("div",Te,[(0,l.Lk)("div",Ce,[t[5]||(t[5]=(0,l.Lk)("h2",null,"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ–ø—Ä–æ—Å–Ω–∏–∫–∞",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-btn"},"‚úñ")]),(0,l.Lk)("div",Ee,[(0,l.Lk)("h3",null,(0,a.v_)(s.surveyTitle),1),(0,l.Lk)("span",Se,(0,a.v_)(s.surveyType.toUpperCase()),1)]),(0,l.Lk)("div",fe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.questions,((e,s)=>((0,l.uX)(),(0,l.CE)("div",{key:s,class:"question-item"},[(0,l.Lk)("div",we,[(0,l.Lk)("span",qe,(0,a.v_)(s+1)+".",1),(0,l.Lk)("div",xe,[(0,l.Lk)("span",_e,(0,a.v_)(e.question),1),e.required?((0,l.uX)(),(0,l.CE)("span",Ie,"–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π")):(0,l.Q3)("",!0)]),(0,l.Lk)("span",$e,(0,a.v_)(r.getQuestionTypeLabel(e.type)),1)]),e.options?((0,l.uX)(),(0,l.CE)("div",Qe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.options,(e=>((0,l.uX)(),(0,l.CE)("span",{key:e.value||e,class:"option-tag"},(0,a.v_)("object"===typeof e?e.text:e),1)))),128))])):(0,l.Q3)("",!0),"matrix"===e.type?((0,l.uX)(),(0,l.CE)("div",Xe,[(0,l.Lk)("div",Ue,[(0,l.Lk)("div",Ae,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.rows||[],((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"row-item"},(0,a.v_)("object"===typeof e?e.text:e),1)))),128))]),(0,l.Lk)("div",Fe,[t[6]||(t[6]=(0,l.Lk)("span",{class:"scale-label"},"–®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.columns||e.scale||[],((e,t)=>((0,l.uX)(),(0,l.CE)("span",{key:t,class:"scale-item"},(0,a.v_)("object"===typeof e?e.text:e),1)))),128))])])])):(0,l.Q3)("",!0),"scale"===e.type?((0,l.uX)(),(0,l.CE)("div",Ve,[(0,l.Lk)("span",De,"–®–∫–∞–ª–∞: "+(0,a.v_)(e.min||1)+" - "+(0,a.v_)(e.max||10),1)])):(0,l.Q3)("",!0)])))),128))]),(0,l.Lk)("div",Me,[(0,l.Lk)("div",Be,[(0,l.Lk)("span",null,"–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤: "+(0,a.v_)(s.questions.length),1)]),(0,l.Lk)("div",Je,[(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.editQuestions&&r.editQuestions(...e)),class:"edit-btn"},"‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã"),(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.confirmCreate&&r.confirmCreate(...e)),class:"confirm-btn"},"‚úÖ –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å–Ω–∏–∫"),(0,l.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"cancel-btn"},"–û—Ç–º–µ–Ω–∞")])])])])):(0,l.Q3)("",!0)}var ze={name:"QuestionPreview",props:{show:Boolean,questions:Array,surveyTitle:String,surveyType:String},methods:{getQuestionTypeLabel(e){const t={text:"–¢–µ–∫—Å—Ç",textarea:"–î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç",radio:"–í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞",scale:"–®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏",matrix:"–ú–∞—Ç—Ä–∏—Ü–∞ –æ—Ü–µ–Ω–æ–∫"};return t[e]||e},editQuestions(){this.$emit("edit-questions")},confirmCreate(){this.$emit("confirm-create")}}};const Ne=(0,Le.A)(ze,[["render",Ke],["__scopeId","data-v-8408a342"]]);var Pe=Ne,Oe={name:"SurveyList",components:{TemplateEditor:be,QuestionPreview:Pe},data(){return{selectedType:"",surveyTitle:"",selectedTeamId:"",selectedEmployeeId:"",selectedTemplateId:"",useTeamSelection:!1,useEmployeeSelection:!1,teams:[],employees:[],surveys:[],availableTemplates:[],loading:!1,showTemplateEditor:!1,editingTemplate:null,showQuestionPreview:!1,previewQuestions:[],statusFilter:"",editingSurvey:null,showEditModal:!1}},computed:{canCreateSurvey(){return this.surveyTitle&&(!this.useTeamSelection||this.selectedTeamId)&&(!this.useEmployeeSelection||this.selectedEmployeeId)},currentTemplate(){return this.selectedTemplateId&&this.availableTemplates.find((e=>e.id==this.selectedTemplateId))||null},canDeleteSelectedTemplate(){return!(!this.currentTemplate||this.currentTemplate.is_default)},filteredSurveys(){return this.statusFilter?this.surveys.filter((e=>e.status===this.statusFilter)):this.surveys}},async mounted(){await this.fetchTeams(),await this.fetchEmployees(),await this.fetchSurveys()},methods:{selectSurveyType(e){this.selectedType=e,this.selectedTeamId="",this.selectedEmployeeId="",this.selectedTemplateId="",this.useTeamSelection=!1,this.useEmployeeSelection=!1,this.fetchTemplates(),"enps"===e?this.fetchTeams():"360"===e&&this.fetchEmployees()},async fetchTemplates(){try{const e=localStorage.getItem("token"),t=await R.A.get("/api/survey-templates",{headers:{Authorization:`Bearer ${e}`}});this.availableTemplates=t.data.filter((e=>e.survey_type===this.selectedType))}catch(e){console.error("Error fetching templates:",e)}},async deleteSelectedTemplate(){if(!this.canDeleteSelectedTemplate)return;const e=this.currentTemplate,t=window.confirm(`–£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω ¬´${e.name}¬ª? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.`);if(t)try{const t=localStorage.getItem("token");await R.A.delete(`/api/survey-templates/${e.id}`,{headers:{Authorization:`Bearer ${t}`}}),this.selectedTemplateId="",await this.fetchTemplates(),alert("–®–∞–±–ª–æ–Ω —É–¥–∞–ª—ë–Ω")}catch(s){const e=s?.response?.status,t=s?.response?.data?.error||"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è";400===e&&/Default/i.test(t)?alert("–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —É–¥–∞–ª—è—Ç—å –Ω–µ–ª—å–∑—è."):404===e?alert("–®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤."):alert(t)}},editTemplate(){console.log("editTemplate called with selectedTemplateId:",this.selectedTemplateId),console.log("availableTemplates:",this.availableTemplates),this.selectedTemplateId?(this.editingTemplate=this.availableTemplates.find((e=>e.id==this.selectedTemplateId)),console.log("Found template for editing:",this.editingTemplate)):(this.editingTemplate=null,console.log("No template selected, creating new template")),this.showTemplateEditor=!0},closeTemplateEditor(){this.showTemplateEditor=!1,this.editingTemplate=null},async onTemplateSaved(){await this.fetchTemplates()},async fetchTeams(){try{const e=localStorage.getItem("token"),t=await R.A.get("/user_teams",{headers:{Authorization:`Bearer ${e}`}});this.teams=t.data}catch(e){console.error("Error fetching teams:",e)}},async fetchEmployees(){try{const e=localStorage.getItem("token"),t=await R.A.get("/api/employees",{headers:{Authorization:`Bearer ${e}`}});this.employees=t.data}catch(e){console.error("Error fetching employees:",e)}},async fetchSurveys(){try{this.loading=!0;const e=localStorage.getItem("token"),t=await R.A.get("/api/surveys",{headers:{Authorization:`Bearer ${e}`}});this.surveys=t.data}catch(e){console.error("Error fetching surveys:",e)}finally{this.loading=!1}},async createSurvey(){let e=null;if(this.selectedTemplateId){const t=this.availableTemplates.find((e=>e.id===this.selectedTemplateId));e=t.questions}else e="enps"===this.selectedType?this.getDefaultEnpsQuestions():this.getDefault360Questions();this.previewQuestions=e,this.showQuestionPreview=!0},async confirmCreateSurvey(){try{const t=localStorage.getItem("token"),s={survey_type:this.selectedType,title:this.surveyTitle,team_id:this.useTeamSelection?this.selectedTeamId:null,target_employee_id:this.useEmployeeSelection?this.selectedEmployeeId:null,questions:this.previewQuestions},l=await R.A.post("/api/surveys",s,{headers:{Authorization:`Bearer ${t}`}}),a=l.data.access_token,i=`${window.location.origin}/survey/${a}`;try{await navigator.clipboard.writeText(i),alert(`${this.$t("surveys.surveyCreated")}\n\n–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!`)}catch(e){console.error("Clipboard error:",e),alert(`${this.$t("surveys.surveyCreated")}\n\n–°—Å—ã–ª–∫–∞: ${i}`)}this.resetForm(),this.showQuestionPreview=!1,await this.fetchSurveys()}catch(t){console.error("Error creating survey:",t),alert("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø—Ä–æ—Å–Ω–∏–∫–∞")}},confirmDeleteSurvey(e){confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –æ–ø—Ä–æ—Å–Ω–∏–∫ "${e.title}"?`)&&this.deleteSurvey(e.id)},async deleteSurvey(e){try{const t=localStorage.getItem("token");await R.A.delete(`/api/surveys/${e}`,{headers:{Authorization:`Bearer ${t}`}}),alert("–û–ø—Ä–æ—Å–Ω–∏–∫ —É–¥–∞–ª–µ–Ω!"),await this.fetchSurveys()}catch(t){console.error("Error deleting survey:",t),alert("–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –æ–ø—Ä–æ—Å–Ω–∏–∫–∞")}},resetForm(){this.selectedType="",this.surveyTitle="",this.selectedTeamId="",this.selectedEmployeeId="",this.selectedTemplateId="",this.useTeamSelection=!1,this.useEmployeeSelection=!1,this.previewQuestions=[]},getDefaultEnpsQuestions(){return[{id:1,type:"radio",question:"–í –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?",required:!0,options:[{text:"–£–¥–∞–ª–µ–Ω–Ω–æ",value:"remote"},{text:"–í –æ—Ñ–∏—Å–µ",value:"office"},{text:"–ì–∏–±—Ä–∏–¥–Ω–æ",value:"hybrid"}]},{id:2,type:"scale",question:"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–æ–π?",required:!0,min:1,max:10},{id:3,type:"scale",question:"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ –≤—ã –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç–µ –Ω–∞—à—É –∫–æ–º–ø–∞–Ω–∏—é –∫–∞–∫ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –¥—Ä—É–∑—å—è–º –∏–ª–∏ –∫–æ–ª–ª–µ–≥–∞–º?",required:!0,min:0,max:10},{id:4,type:"scale",question:"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã –±–∞–ª–∞–Ω—Å–æ–º —Ä–∞–±–æ—Ç—ã –∏ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏?",required:!0,min:1,max:10},{id:5,type:"scale",question:"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è?",required:!0,min:1,max:10},{id:6,type:"scale",question:"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ —Å –∫–æ–ª–ª–µ–≥–∞–º–∏?",required:!0,min:1,max:10},{id:7,type:"scale",question:"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º?",required:!0,min:1,max:10},{id:8,type:"textarea",question:"–ß—Ç–æ –≤–∞–º –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω—Ä–∞–≤–∏—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ –≤ –Ω–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏?",required:!1},{id:9,type:"textarea",question:"–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —É–ª—É—á—à–∏—Ç—å –≤ –Ω–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏?",required:!1}]},getDefault360Questions(){return[{id:1,type:"text",question:"–í–∞—à–µ –∏–º—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)",required:!1},{id:2,type:"text",question:"–í–∞—à–∞ —Ä–æ–ª—å/–¥–æ–ª–∂–Ω–æ—Å—Ç—å",required:!1},{id:3,type:"radio",question:"–í–∞—à–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –æ—Ü–µ–Ω–∏–≤–∞–µ–º—ã–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º",required:!0,options:[{text:"–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å",value:"manager"},{text:"–ö–æ–ª–ª–µ–≥–∞",value:"peer"},{text:"–ü–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–π",value:"subordinate"},{text:"–ö–ª–∏–µ–Ω—Ç/–ü–∞—Ä—Ç–Ω–µ—Ä",value:"external"}]},{id:4,type:"matrix",question:"–û—Ü–µ–Ω–∏—Ç–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ø–æ —à–∫–∞–ª–µ –æ—Ç 1 –¥–æ 5",required:!0,rows:[{text:"–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞–≤—ã–∫–∏",value:"professional_skills"},{text:"–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è",value:"communication"},{text:"–õ–∏–¥–µ—Ä—Å—Ç–≤–æ",value:"leadership"},{text:"–†–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ",value:"teamwork"},{text:"–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º",value:"problem_solving"},{text:"–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å",value:"adaptability"}],columns:[{text:"1 - –ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ",value:"1"},{text:"2 - –ù–∏–∂–µ –æ–∂–∏–¥–∞–Ω–∏–π",value:"2"},{text:"3 - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º",value:"3"},{text:"4 - –ü—Ä–µ–≤—ã—à–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è",value:"4"},{text:"5 - –í—ã–¥–∞—é—â–∏–π—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç",value:"5"}]},{id:5,type:"textarea",question:"–ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º–∏ —Å–∏–ª—å–Ω—ã–º–∏ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏ —ç—Ç–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?",required:!1},{id:6,type:"textarea",question:"–í –∫–∞–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–≥ –±—ã —É–ª—É—á—à–∏—Ç—å—Å—è?",required:!1}]},openTemplateEditor(){this.showQuestionPreview=!1,this.editingTemplate={name:`–ö–∞—Å—Ç–æ–º–Ω—ã–π ${this.selectedType.toUpperCase()} —à–∞–±–ª–æ–Ω`,survey_type:this.selectedType,questions:this.previewQuestions},this.showTemplateEditor=!0},viewResults(e){this.$router.push(`/survey/${e}/results`)},async copySurveyLink(e){try{const t=`${window.location.origin}/survey/${e.access_token}`;await navigator.clipboard.writeText(t),alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!")}catch(t){console.error("Error copying link:",t)}},editSurvey(e){this.editingSurvey={...e},this.showEditModal=!0},async saveSurveyChanges(){try{const e=localStorage.getItem("token");await R.A.put(`/api/surveys/${this.editingSurvey.id}`,{title:this.editingSurvey.title,status:this.editingSurvey.status,deadline:this.editingSurvey.deadline||null},{headers:{Authorization:`Bearer ${e}`}}),await this.fetchSurveys(),this.showEditModal=!1,this.editingSurvey=null,alert("–û–ø—Ä–æ—Å–Ω–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω!")}catch(e){console.error("Error updating survey:",e),alert("–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø—Ä–æ—Å–Ω–∏–∫–∞")}},async toggleSurveyStatus(e){try{const t=localStorage.getItem("token"),s="active"===e.status?"closed":"active";await R.A.put(`/api/surveys/${e.id}`,{status:s},{headers:{Authorization:`Bearer ${t}`}}),await this.fetchSurveys(),alert(`–û–ø—Ä–æ—Å–Ω–∏–∫ ${"active"===s?"–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω":"–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"}!`)}catch(t){console.error("Error toggling survey status:",t),alert("–û—à–∏–±–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞")}},getStatusLabel(e){const t={draft:"–ß–µ—Ä–Ω–æ–≤–∏–∫",active:"–ê–∫—Ç–∏–≤–µ–Ω",closed:"–ó–∞–∫—Ä—ã—Ç"};return t[e]||e},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric"})},closeEditModal(){this.showEditModal=!1,this.editingSurvey=null}}};const Re=(0,Le.A)(Oe,[["render",O],["__scopeId","data-v-2d5a734e"]]);var We=Re}}]);
//# sourceMappingURL=957.08719cde.js.map