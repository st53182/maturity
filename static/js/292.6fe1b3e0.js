"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[292],{292:function(s,e,t){t.r(e),t.d(e,{default:function(){return H}});var l=t(6768),o=t(5130),a=t(4232);const n={class:"profile-page"},r={class:"form-section"},i={class:"form-section"},d={class:"disc-section"},c={class:"disc-actions"},p={key:0,class:"history-summary"},u={class:"history-list"},m={class:"history-header"},k={class:"history-type"},h={class:"history-date"},y=["onClick"],f={key:0,class:"recommendations-preview"},L=["innerHTML"],v={key:0,class:"latest-result"},_={class:"result-summary"},w={class:"personality-badge"},b={class:"scores"},A={class:"assessment-date"};function g(s,e,t,g,C,P){const D=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",n,[e[23]||(e[23]=(0,l.Lk)("h1",null,"üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å",-1)),(0,l.Lk)("form",{onSubmit:e[7]||(e[7]=(0,o.D$)(((...s)=>P.saveProfile&&P.saveProfile(...s)),["prevent"])),class:"profile-form"},[(0,l.Lk)("div",r,[e[8]||(e[8]=(0,l.Lk)("h2",null,"üìå –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",-1)),e[9]||(e[9]=(0,l.Lk)("label",null,"–ò–º—è",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>C.profile.name=s),placeholder:"–í–∞—à–µ –∏–º—è"},null,512),[[o.Jo,C.profile.name]]),e[10]||(e[10]=(0,l.Lk)("label",null,"–î–æ–ª–∂–Ω–æ—Å—Ç—å",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>C.profile.position=s),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä, –¢–∏–º–ª–∏–¥"},null,512),[[o.Jo,C.profile.position]]),e[11]||(e[11]=(0,l.Lk)("label",null,"–ö–æ–º–ø–∞–Ω–∏—è",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>C.profile.company=s),placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏"},null,512),[[o.Jo,C.profile.company]]),e[12]||(e[12]=(0,l.Lk)("label",null,"–¢–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>C.profile.personality_type=s),placeholder:"MBTI / DISC / –¥—Ä—É–≥–æ–µ",readonly:""},null,512),[[o.Jo,C.profile.personality_type]]),e[13]||(e[13]=(0,l.Lk)("small",{style:{color:"#666","font-size":"12px"}},"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è DISC –æ—Ü–µ–Ω–∫–∏",-1))]),e[18]||(e[18]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",i,[e[14]||(e[14]=(0,l.Lk)("h2",null,"üîê –°–º–µ–Ω–∞ email –∏ –ø–∞—Ä–æ–ª—è",-1)),e[15]||(e[15]=(0,l.Lk)("label",null,"Email",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>C.profile.email=s),type:"email"},null,512),[[o.Jo,C.profile.email]]),e[16]||(e[16]=(0,l.Lk)("label",null,"–°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>C.oldPassword=s),type:"password"},null,512),[[o.Jo,C.oldPassword]]),e[17]||(e[17]=(0,l.Lk)("label",null,"–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>C.newPassword=s),type:"password"},null,512),[[o.Jo,C.newPassword]])]),e[19]||(e[19]=(0,l.Lk)("button",{type:"submit",class:"modern-button purple"},"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è",-1))],32),(0,l.Lk)("div",d,[e[21]||(e[21]=(0,l.Lk)("h2",null,"üß† DISC –û—Ü–µ–Ω–∫–∞ –ª–∏—á–Ω–æ—Å—Ç–∏",-1)),e[22]||(e[22]=(0,l.Lk)("p",null,"–ü—Ä–æ–π–¥–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é DISC –æ—Ü–µ–Ω–∫—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Å—Ç–∏–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é.",-1)),(0,l.Lk)("div",c,[(0,l.bF)(D,{to:"/disc-assessment",class:"modern-button purple"},{default:(0,l.k6)((()=>[(0,l.eW)((0,a.v_)(C.profile.personality_type?"üîÑ –ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ":"üöÄ –ü—Ä–æ–π—Ç–∏ –æ—Ü–µ–Ω–∫—É"),1)])),_:1}),C.assessmentHistory.length>0?((0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("h4",null,"üìä –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π ("+(0,a.v_)(C.assessmentHistory.length)+")",1),(0,l.Lk)("div",u,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(C.assessmentHistory.slice(0,5),(s=>((0,l.uX)(),(0,l.CE)("div",{key:s.id,class:"history-item"},[(0,l.Lk)("div",m,[(0,l.Lk)("span",k,(0,a.v_)(s.personality_type),1),(0,l.Lk)("span",h,(0,a.v_)(P.formatDate(s.completed_at)),1),(0,l.Lk)("button",{onClick:e=>P.toggleRecommendations(s.id),class:"toggle-btn"},(0,a.v_)(C.expandedAssessments.includes(s.id)?"‚ñº":"‚ñ∂")+" –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ ",9,y)]),C.expandedAssessments.includes(s.id)?((0,l.uX)(),(0,l.CE)("div",f,[(0,l.Lk)("div",{class:"recommendations-content",innerHTML:P.formatRecommendations(s.recommendations)},null,8,L)])):(0,l.Q3)("",!0)])))),128))])])):(0,l.Q3)("",!0)]),C.latestAssessment?((0,l.uX)(),(0,l.CE)("div",v,[e[20]||(e[20]=(0,l.Lk)("h3",null,"–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç",-1)),(0,l.Lk)("div",_,[(0,l.Lk)("div",w,(0,a.v_)(C.latestAssessment.personality_type),1),(0,l.Lk)("div",b,[(0,l.Lk)("span",null,"D: "+(0,a.v_)(C.latestAssessment.dominance_score),1),(0,l.Lk)("span",null,"I: "+(0,a.v_)(C.latestAssessment.influence_score),1),(0,l.Lk)("span",null,"S: "+(0,a.v_)(C.latestAssessment.steadiness_score),1),(0,l.Lk)("span",null,"C: "+(0,a.v_)(C.latestAssessment.conscientiousness_score),1)]),(0,l.Lk)("div",A,(0,a.v_)(P.formatDate(C.latestAssessment.completed_at)),1)])])):(0,l.Q3)("",!0)])])}t(4114);var C=t(4373),P={name:"UserProfile",data(){return{profile:{name:"",position:"",company:"",personality_type:"",email:""},oldPassword:"",newPassword:"",assessmentHistory:[],latestAssessment:null,expandedAssessments:[]}},async mounted(){try{const s=await C.A.get("/api/user_profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.profile=s.data,await this.fetchAssessmentHistory()}catch(s){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:",s),alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å.")}},methods:{async saveProfile(){try{await C.A.post("/api/update_profile",{...this.profile,old_password:this.oldPassword,new_password:this.newPassword},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),alert("‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω!"),this.oldPassword="",this.newPassword=""}catch(s){console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:",s),alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å.")}},async fetchAssessmentHistory(){try{const s=localStorage.getItem("token"),e=await C.A.get("/api/disc/history",{headers:{Authorization:`Bearer ${s}`}});e.data.success&&(this.assessmentHistory=e.data.assessments,this.latestAssessment=this.assessmentHistory[0]||null)}catch(s){console.error("Error fetching assessment history:",s)}},formatDate(s){const e=new Date(s);return e.toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric"})},toggleRecommendations(s){const e=this.expandedAssessments.indexOf(s);e>-1?this.expandedAssessments.splice(e,1):this.expandedAssessments.push(s)},formatRecommendations(s){return s?s.replace(/\n/g,"<br>"):"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"}}},D=t(1241);const I=(0,D.A)(P,[["render",g],["__scopeId","data-v-15505df2"]]);var H=I}}]);
//# sourceMappingURL=292.6fe1b3e0.js.map