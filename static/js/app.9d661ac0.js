(function(){"use strict";var e={8725:function(e,t,a){var s=a(5130),o=(a(4114),a(6768));const n={id:"app"},r={key:0,class:"modern-sidebar"},l={class:"main-content"},i={class:"modal"},c={class:"modal-buttons"};function d(e,t,a,d,u,m){const h=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",n,[d.isAuthenticated?((0,o.uX)(),(0,o.CE)("aside",r,[(0,o.Lk)("button",{class:"sidebar-btn",onClick:t[0]||(t[0]=t=>e.$router.push("/dashboard"))},t[9]||(t[9]=[(0,o.Lk)("span",null,"üè†",-1),(0,o.Lk)("small",null,"–ú–æ–∏ –∫–æ–º–∞–Ω–¥—ã",-1)])),(0,o.Lk)("button",{class:"sidebar-btn",onClick:t[1]||(t[1]=t=>e.$router.push("/survey"))},t[10]||(t[10]=[(0,o.Lk)("span",null,"üìù",-1),(0,o.Lk)("small",null,"–ó—Ä–µ–ª–æ—Å—Ç—å",-1)])),(0,o.Lk)("button",{class:"sidebar-btn",onClick:t[2]||(t[2]=e=>d.showTeamModal=!0)},t[11]||(t[11]=[(0,o.Lk)("span",null,"‚ûï",-1),(0,o.Lk)("small",null,"–ö–æ–º–∞–Ω–¥–∞",-1)])),(0,o.Lk)("button",{class:"sidebar-btn",onClick:t[3]||(t[3]=(...e)=>d.logout&&d.logout(...e))},t[12]||(t[12]=[(0,o.Lk)("span",null,"üö™",-1),(0,o.Lk)("small",null,"–í—ã–π—Ç–∏",-1)]))])):(0,o.Q3)("",!0),(0,o.Lk)("main",l,[(0,o.bF)(h)]),d.showTeamModal?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"modal-overlay",onClick:t[8]||(t[8]=(0,s.D$)((e=>d.showTeamModal=!1),["self"]))},[(0,o.Lk)("div",i,[t[13]||(t[13]=(0,o.Lk)("h2",null,"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É",-1)),t[14]||(t[14]=(0,o.Lk)("p",{class:"modal-subtitle"},null,-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>d.newTeamName=e),placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã",class:"team-input",onKeyup:t[5]||(t[5]=(0,s.jR)(((...e)=>d.createTeam&&d.createTeam(...e)),["enter"]))},null,544),[[s.Jo,d.newTeamName]]),(0,o.Lk)("div",c,[(0,o.Lk)("button",{class:"confirm-btn",onClick:t[6]||(t[6]=(...e)=>d.createTeam&&d.createTeam(...e))},"‚úÖ –°–æ–∑–¥–∞—Ç—å"),(0,o.Lk)("button",{class:"cancel-btn",onClick:t[7]||(t[7]=e=>d.showTeamModal=!1)},"‚ùå –û—Ç–º–µ–Ω–∞")])])])):(0,o.Q3)("",!0)])}var u=a(4373),m=a(2261);const h=(0,m.nY)("auth",{state:()=>({isAuthenticated:!!localStorage.getItem("token")}),actions:{login(e){localStorage.setItem("token",e),this.isAuthenticated=!0},logout(){localStorage.removeItem("token"),this.isAuthenticated=!1},checkAuth(){this.isAuthenticated=!!localStorage.getItem("token")}}});var g=a(144),p={setup(){const e=h(),t=(0,o.EW)((()=>e.isAuthenticated)),a=(0,g.KR)(!1),s=(0,g.KR)(""),n=()=>{e.logout(),a.value=!1,window.location.href="/login"},r=async()=>{if(s.value.trim())try{console.log("üì§ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã...");const e=localStorage.getItem("token");if(!e)return console.error("‚ùå –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),void alert("üö´ –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");const t=await u.A.post("http://127.0.0.1:5000/create_team",{team_name:s.value},{headers:{Authorization:`Bearer ${e}`}});console.log("‚úÖ –ö–æ–º–∞–Ω–¥–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞:",t.data),a.value=!1,alert("üéâ –ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∞!"),window.location.reload()}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:",e.response?.data||e),alert("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã. –£–±–µ–¥–∏—Å—å –Ω–µ –∑–∞–Ω—è—Ç–æ –ª–∏ –∏–º—è –∫–æ–º–∞–Ω–¥—ã")}else alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã!")};return{isAuthenticated:t,showTeamModal:a,newTeamName:s,logout:n,createTeam:r}}},k=a(1241);const v=(0,k.A)(p,[["render",d]]);var b=v,f=a(1387),y=a(4232);const L={class:"home-container"},C={class:"business-category"},w=["value"];function T(e,t,a,n,r,l){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",L,[(0,o.Lk)("header",null,[t[3]||(t[3]=(0,o.Lk)("div",{class:"logo"},null,-1)),(0,o.Lk)("nav",null,[(0,o.bF)(i,{to:"/login",class:"nav-btn"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("–í–æ–π—Ç–∏")]))),_:1}),(0,o.bF)(i,{to:"/register",class:"nav-btn"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è")]))),_:1})])]),(0,o.Lk)("main",null,[t[6]||(t[6]=(0,o.Lk)("h1",null,"–û—Ü–µ–Ω–∏—Ç–µ –∑—Ä–µ–ª–æ—Å—Ç—å –≤–∞—à–µ–π Agile-–∫–æ–º–∞–Ω–¥—ã",-1)),t[7]||(t[7]=(0,o.Lk)("p",null,"–ü—Ä–æ–π–¥–∏—Ç–µ –æ–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã.",-1)),(0,o.Lk)("div",C,[t[4]||(t[4]=(0,o.Lk)("label",null,"–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ñ–µ—Ä—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedCategory=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.categories,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.name},(0,y.v_)(e.name),9,w)))),128))],512),[[s.u1,r.selectedCategory]])]),(0,o.bF)(i,{to:"/survey?category="+r.selectedCategory,class:"start-btn"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("–ü—Ä–æ–π—Ç–∏ –æ—Ü–µ–Ω–∫—É")]))),_:1},8,["to"])]),t[8]||(t[8]=(0,o.Lk)("footer",null,[(0,o.Lk)("p",null,"¬© 2025 GrowBoard. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.")],-1))])}var A={data(){return{selectedCategory:"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ü–û",categories:[{id:1,name:"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ü–û"},{id:2,name:"–§–∞—Ä–º–∞—Ü–µ–≤—Ç–∏–∫–∞ (—Å–∫–æ—Ä–æ)"},{id:3,name:"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (—Å–∫–æ—Ä–æ)"}]}},methods:{goToSurvey(){const e=localStorage.getItem("token");e?this.$router.push("/survey"):this.$router.push("/login")}}};const _=(0,k.A)(A,[["render",T],["__scopeId","data-v-8c5b7156"]]);var D=_;const I={class:"login-container"},S={class:"login-box"},O={class:"register-link"};function R(e,t,a,n,r,l){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",I,[(0,o.Lk)("div",S,[t[6]||(t[6]=(0,o.Lk)("h2",null,"–í—Ö–æ–¥",-1)),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),placeholder:"–õ–æ–≥–∏–Ω",required:""},null,512),[[s.Jo,r.username]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"–ü–∞—Ä–æ–ª—å",required:""},null,512),[[s.Jo,r.password]]),t[3]||(t[3]=(0,o.Lk)("button",{type:"submit"},"–í–æ–π—Ç–∏",-1))],32),(0,o.Lk)("p",O,[t[5]||(t[5]=(0,o.eW)("–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? ")),(0,o.bF)(i,{to:"/register"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")]))),_:1})])])])}var $={data(){return{username:"",password:""}},methods:{async login(){try{const e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),t=await e.json();e.ok?(localStorage.setItem("token",t.access_token),this.$router.push("/dashboard")):alert(t.message)}catch(e){console.error("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:",e)}}}};const E=(0,k.A)($,[["render",R],["__scopeId","data-v-05d0824d"]]);var P=E;const x={class:"register-container"},X={class:"register-box"},j={class:"login-link"};function Q(e,t,a,n,r,l){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",x,[(0,o.Lk)("div",X,[t[6]||(t[6]=(0,o.Lk)("h2",null,"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",-1)),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>l.register&&l.register(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),placeholder:"Email",required:""},null,512),[[s.Jo,r.email]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"–ü–∞—Ä–æ–ª—å",required:""},null,512),[[s.Jo,r.password]]),t[3]||(t[3]=(0,o.Lk)("button",{type:"submit"},"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",-1))],32),(0,o.Lk)("p",j,[t[5]||(t[5]=(0,o.eW)("–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? ")),(0,o.bF)(i,{to:"/login"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("–í–æ–π—Ç–∏")]))),_:1})])])])}var M={data(){return{password:"",email:""}},methods:{async register(){try{const e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();e.ok?(alert("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –¢–µ–ø–µ—Ä—å –≤–æ–π–¥–∏—Ç–µ."),this.$router.push("/login")):alert(t.message)}catch(e){console.error("–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:",e)}}}};const N=(0,k.A)(M,[["render",Q],["__scopeId","data-v-44b849b2"]]);var F=N;const q={class:"survey-container"},B={key:0,class:"team-selection"},H={class:"team-buttons"},z=["onClick"],U={key:1,class:"modal-overlay"},V={class:"modal"},W={class:"modal-buttons"},J={key:2},K={class:"team-name"},G={class:"progress-bar"},Y={class:"progress-text"},Z={key:0,class:"question-card"},ee={class:"question-text"},te={class:"answer-options"},ae=["onClick"],se={style:{"text-align":"center","margin-top":"30px"}};function oe(e,t,a,n,r,l){return(0,o.uX)(),(0,o.CE)("div",q,[t[8]||(t[8]=(0,o.Lk)("h1",null,"üìä –û—Ü–µ–Ω–∫–∞ –∑—Ä–µ–ª–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã",-1)),r.selectedTeam?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",B,[(0,o.Lk)("div",H,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,class:(0,y.C4)(["team-btn",{active:r.selectedTeam===e.id}]),onClick:t=>l.selectTeam(e.id,e.name)},(0,y.v_)(e.name),11,z)))),128))]),(0,o.Lk)("div",{class:"create-btn",onClick:t[0]||(t[0]=e=>r.showTeamModal=!0)},t[6]||(t[6]=[(0,o.eW)(" ‚ûï "),(0,o.Lk)("small",null,"–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É",-1)]))])),r.showTeamModal?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("div",V,[t[7]||(t[7]=(0,o.Lk)("h2",null,"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newTeamName=e),placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã",class:"team-input"},null,512),[[s.Jo,r.newTeamName]]),(0,o.Lk)("div",W,[(0,o.Lk)("button",{class:"confirm-btn",onClick:t[2]||(t[2]=(...e)=>l.createTeam&&l.createTeam(...e))},"‚úÖ –°–æ–∑–¥–∞—Ç—å"),(0,o.Lk)("button",{class:"cancel-btn",onClick:t[3]||(t[3]=e=>r.showTeamModal=!1)},"‚ùå –û—Ç–º–µ–Ω–∞")])])])):((0,o.uX)(),(0,o.CE)("div",J,[(0,o.Lk)("h2",K,"üõ† –ö–æ–º–∞–Ω–¥–∞: "+(0,y.v_)(r.selectedTeamName),1),(0,o.Lk)("div",G,[(0,o.Lk)("div",{class:"progress",style:(0,y.Tr)({width:l.progress+"%"})},null,4),(0,o.Lk)("span",Y,(0,y.v_)(Math.round(l.progress))+"% | ~"+(0,y.v_)(l.remainingTime)+" –º–∏–Ω",1)]),l.currentQuestion?((0,o.uX)(),(0,o.CE)("div",Z,[r.currentQuestionIndex>0?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"back-btn",onClick:t[4]||(t[4]=(...e)=>l.prevQuestion&&l.prevQuestion(...e))},"‚¨Ö")):(0,o.Q3)("",!0),(0,o.Lk)("h2",ee,(0,y.v_)(l.currentQuestion.question),1),(0,o.Lk)("div",te,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.currentQuestion.levels,((e,t)=>((0,o.uX)(),(0,o.CE)("button",{key:t,class:(0,y.C4)({selected:r.answers[l.currentQuestion.id]===t}),onClick:e=>l.answerQuestion(t)},(0,y.v_)(e),11,ae)))),128))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",se,[l.allAnswered?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"team-btn",style:{background:"#8e44ad"},onClick:t[5]||(t[5]=(...e)=>l.submitAssessment&&l.submitAssessment(...e))}," üì© –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ")):(0,o.Q3)("",!0)])]))])}var ne={data(){return{teams:[],selectedTeam:null,selectedTeamName:"",newTeamName:"",questions:[],answers:{},showTeamModal:!1,currentQuestionIndex:0,avgTimePerQuestion:1.5}},computed:{progress(){return this.questions.length?this.currentQuestionIndex/this.questions.length*100:0},remainingTime(){return Math.max(0,Math.round((this.questions.length-this.currentQuestionIndex)*this.avgTimePerQuestion))},currentQuestion(){return this.questions[this.currentQuestionIndex]||null},allAnswered(){return Object.keys(this.answers).length===this.questions.length}},methods:{async fetchTeams(){try{console.log("üì° –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥...");const e=localStorage.getItem("token");if(!e)return console.error("‚ùå –û—à–∏–±–∫–∞: –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),void alert("üö´ –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");const t=await u.A.get("/user_teams",{headers:{Authorization:`Bearer ${e}`}});this.teams=t.data,console.log("‚úÖ –ö–æ–º–∞–Ω–¥—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã:",this.teams)}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–∞–Ω–¥:",e.response?.data||e),alert("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–∞–Ω–¥.")}},async fetchQuestions(){try{const e=await u.A.get("/questions");this.questions=e.data}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:",e)}},selectTeam(e,t){this.selectedTeam=e,this.selectedTeamName=t,this.fetchQuestions()},async createTeam(){if(this.newTeamName.trim())try{console.log("üì§ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã...");const e=localStorage.getItem("token");if(!e)return console.error("‚ùå –û—à–∏–±–∫–∞: –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),void alert("üö´ –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");const t=await u.A.post("/create_team",{team_name:this.newTeamName},{headers:{Authorization:`Bearer ${e}`}});console.log("‚úÖ –ö–æ–º–∞–Ω–¥–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞:",t.data),await this.fetchTeams(),this.selectTeam(t.data.id,t.data.name),this.showTeamModal=!1}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:",e.response?.data||e),alert("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã.")}else alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã!")},answerQuestion(e){this.answers[this.currentQuestion.id]=e,this.currentQuestionIndex<this.questions.length-1&&this.currentQuestionIndex++},prevQuestion(){this.currentQuestionIndex>0&&this.currentQuestionIndex--},async submitAssessment(){try{console.log("üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...");const e=localStorage.getItem("token");if(!e)return console.error("‚ùå –û—à–∏–±–∫–∞: –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),void alert("üö´ –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");const t=await u.A.post("/submit_assessment",{team_id:this.selectedTeam,answers:this.answers},{headers:{Authorization:`Bearer ${e}`}}),a=t.data.assessment_id;alert("üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!"),this.$router.push({name:"AssessmentResults",params:{team_id:this.selectedTeam,assessment_id:a}})}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:",e.response?.data||e),alert("‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.")}}},mounted(){this.fetchTeams()}};const re=(0,k.A)(ne,[["render",oe],["__scopeId","data-v-bfcf2d84"]]);var le=re;const ie={class:"dashboard-container"},ce={key:0,class:"loading"},de={key:1,class:"error"},ue={key:2,class:"teams-container"},me={class:"team-name"},he={class:"team-score-card"},ge={class:"score"},pe={class:"buttons"},ke=["onClick"],ve=["onClick"],be=["onClick"],fe={class:"modal"},ye={class:"modal-buttons"};function Le(e,t,a,n,r,l){const i=(0,o.g2)("RadarChart");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",ie,[r.loading?((0,o.uX)(),(0,o.CE)("div",ce,"‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ...")):r.error?((0,o.uX)(),(0,o.CE)("div",de,"‚ùå –û—à–∏–±–∫–∞: "+(0,y.v_)(r.error),1)):((0,o.uX)(),(0,o.CE)("div",ue,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.teams,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"team-card"},[(0,o.Lk)("h2",me,(0,y.v_)(e.name),1),(0,o.Lk)("div",he,[t[6]||(t[6]=(0,o.Lk)("h3",null,"–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞",-1)),(0,o.Lk)("p",ge,(0,y.v_)(e.averageScore.toFixed(2)),1)]),e.chartData?((0,o.uX)(),(0,o.Wv)(i,{key:0,chartData:e.chartData,class:"radar-chart"},null,8,["chartData"])):(0,o.Q3)("",!0),(0,o.Lk)("div",pe,[(0,o.Lk)("button",{class:"evaluate-btn",onClick:t=>l.goToSurvey(e.id)},"üìù –û—Ü–µ–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É",8,ke),(0,o.Lk)("button",{class:"view-results-btn",onClick:t=>l.goToResults(e.id,e.latest_assessment_id)},"üìä –°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã",8,ve),(0,o.Lk)("button",{class:"delete-btn",onClick:t=>l.deleteTeam(e.id)},"üóë –£–¥–∞–ª–∏—Ç—å",8,be)])])))),128)),(0,o.Lk)("div",{class:"team-card create-team-card",onClick:t[0]||(t[0]=e=>r.showTeamModal=!0)},t[7]||(t[7]=[(0,o.Lk)("div",{class:"plus-icon"},"+",-1),(0,o.Lk)("p",null,"–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É",-1)]))]))]),r.showTeamModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:t[5]||(t[5]=(0,s.D$)((e=>r.showTeamModal=!1),["self"]))},[(0,o.Lk)("div",fe,[t[8]||(t[8]=(0,o.Lk)("h2",null,"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É",-1)),t[9]||(t[9]=(0,o.Lk)("p",{class:"modal-subtitle"},null,-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newTeamName=e),placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã",class:"team-input",onKeyup:t[2]||(t[2]=(0,s.jR)(((...e)=>l.createTeam&&l.createTeam(...e)),["enter"]))},null,544),[[s.Jo,r.newTeamName]]),(0,o.Lk)("div",ye,[(0,o.Lk)("button",{class:"confirm-btn",onClick:t[3]||(t[3]=(...e)=>l.createTeam&&l.createTeam(...e))},"‚úÖ –°–æ–∑–¥–∞—Ç—å"),(0,o.Lk)("button",{class:"cancel-btn",onClick:t[4]||(t[4]=e=>r.showTeamModal=!1)},"‚ùå –û—Ç–º–µ–Ω–∞")])])])):(0,o.Q3)("",!0)],64)}a(8111),a(1701),a(8237);const Ce={class:"radar-chart"};function we(e,t,a,s,n,r){const l=(0,o.g2)("Radar");return(0,o.uX)(),(0,o.CE)("div",Ce,[(0,o.Lk)("h3",null,(0,y.v_)(a.title),1),(0,o.bF)(l,{data:a.chartData,options:r.chartOptions},null,8,["data","options"])])}var Te=a(6912),Ae=a(1010);Te.t1.register(Te.pr,Te.FN,Te.No,Te.dN,Te.m_,Te.s$,Te.hE);var _e={name:"RadarChart",components:{Radar:Ae.Vd},props:{chartData:{type:Object,required:!0},title:{type:String,default:""}},computed:{chartOptions(){return{responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,suggestedMin:0,suggestedMax:5,ticks:{stepSize:1}}},plugins:{legend:{position:"top"},title:{display:!1}}}}}};const De=(0,k.A)(_e,[["render",we],["__scopeId","data-v-5759fb7a"]]);var Ie=De,Se={components:{RadarChart:Ie},props:["team_id"],setup(){const e=h();return(0,o.sV)((()=>{e.checkAuth()})),{authStore:e}},data(){return{results:{},radarData:{},loading:!0,error:null,showTeamModal:!1,averageScore:0,newTeamName:""}},methods:{async fetchTeams(){try{console.log("üì° –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥...");const e=localStorage.getItem("token");if(!e)return console.error("‚ùå –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),void alert("üö´ –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");const t=await u.A.get("/user_teams",{headers:{Authorization:`Bearer ${e}`}});this.teams=await Promise.all(t.data.map((async e=>{const t=await this.fetchResults(e.id);console.log("üëâ rawResults –¥–ª—è",e.name,t);const a=t?this.generateRadarData(t):null,s=t?this.calculateAverageFromResults(t):0;return{...e,chartData:a,averageScore:s}}))),console.log("‚úÖ –ö–æ–º–∞–Ω–¥—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã:",this.teams)}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–∞–Ω–¥:",e.response?.data||e),this.error="–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–∞–Ω–¥."}finally{this.loading=!1}},async fetchResults(e){try{console.log(`üì° –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥—ã ID ${e}`);const t=localStorage.getItem("token");if(!t)return console.error("‚ùå –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),null;const a=await u.A.get(`/team_results/${e}`,{headers:{Authorization:`Bearer ${t}`}});return a.data.results}catch(t){return console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:",t.response?.data||t),null}},async fetchResultsHistory(){try{const e=localStorage.getItem("token"),t=await u.A.get(`/team_results_history/${this.team_id}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),a=t.data;console.log("üìú –ò—Å—Ç–æ—Ä–∏—è –æ—Ü–µ–Ω–æ–∫:",a);const s=Object.keys(a).sort().reverse();s.length>=2?(this.buildCombinedRadarDataByCategory(a),this.calculateAverageFromLatestSession(a)):1===s.length?this.prepareRadarData():this.error="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–π–¥–∏—Ç–µ –æ–ø—Ä–æ—Å –¥–ª—è –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã."}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏:",e.response?.data||e),this.error="–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥—ã."}},async deleteTeam(e){if(confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!"))try{console.log(`üóë –£–¥–∞–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É ID: ${e}`);const t=localStorage.getItem("token");if(!t)return console.error("‚ùå –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),void alert("üö´ –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");await u.A.delete(`/dashboard/delete_team/${e}`,{headers:{Authorization:`Bearer ${t}`}}),console.log("‚úÖ –ö–æ–º–∞–Ω–¥–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!"),alert("‚úÖ –ö–æ–º–∞–Ω–¥–∞ —É–¥–∞–ª–µ–Ω–∞!"),await this.fetchTeams(),window.location.reload()}catch(t){console.error("‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:",t.response?.data||t),alert("‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã.")}},async createTeam(){if(this.newTeamName.trim())try{console.log("üì§ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã...");const e=localStorage.getItem("token");if(!e)return console.error("‚ùå –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!"),void alert("üö´ –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");const t=await u.A.post("/create_team",{team_name:this.newTeamName},{headers:{Authorization:`Bearer ${e}`}});console.log("‚úÖ –ö–æ–º–∞–Ω–¥–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞:",t.data),alert("üéâ –ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∞!"),await this.fetchTeams(),this.newTeamName="",this.showTeamModal=!1,window.location.reload()}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:",e.response?.data||e),alert("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã. –£–±–µ–¥–∏—Å—å –Ω–µ –∑–∞–Ω—è—Ç–æ –ª–∏ –∏–º—è –∫–æ–º–∞–Ω–¥—ã.")}else alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã!")},generateRadarData(e){if(!e)return{labels:[],datasets:[]};const t=Object.keys(e),a=t.map((t=>{const a=Object.values(e[t]).map((e=>parseFloat(e)||0));return a.length?a.reduce(((e,t)=>e+t),0)/a.length:0}));return{labels:t,datasets:[{label:"–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞",data:a,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:2}]}},calculateAverage(e){if(!e||!e.datasets.length)return 0;const t=e.datasets[0].data.reduce(((e,t)=>e+t),0);return t/e.datasets[0].data.length},calculateAverageFromResults(e){let t=0,a=0;for(const s of Object.values(e))for(const e of Object.values(s))t+=parseFloat(e),a++;return a>0?t/a:0},goToResults(e,t){this.$router.push({name:"AssessmentResults",params:{team_id:e,assessment_id:t}})},goToSurvey(e){this.$router.push({name:"UserSurvey",params:{team_id:e}})}},async mounted(){const e=localStorage.getItem("token");if(!e)return console.warn("üö´ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞..."),void this.$router.push("/login");await this.fetchTeams()}};const Oe=(0,k.A)(Se,[["render",Le],["__scopeId","data-v-157eae98"]]);var Re=Oe;const $e={class:"results-container"},Ee={class:"team-info-card"},Pe={class:"info-block team"},xe={class:"info-block level"},Xe={class:"info-block market"},je={key:0,class:"previous-diff"},Qe={key:0,class:"timeline-modern"},Me={class:"timeline-track"},Ne={class:"tooltip always-visible"},Fe={class:"tooltip always-visible"},qe={class:"timeline-days-left"},Be={key:1,class:"auth-notice"},He={key:2,class:"loading"},ze={key:3,class:"error"},Ue={key:4,class:"charts-container"},Ve={class:"improvement-plan-block"},We=["disabled"],Je={key:0},Ke={key:1,class:"plan-editable"},Ge=["onUpdate:modelValue"],Ye=["onUpdate:modelValue"],Ze=["onClick"],et={class:"plan-buttons"},tt={key:2},at={class:"plan-cards"},st=["onUpdate:modelValue"],ot={class:"recommendations-block"},nt={key:0},rt=["innerHTML"];function lt(e,t,a,n,r,l){const i=(0,o.g2)("RadarChart");return(0,o.uX)(),(0,o.CE)("div",$e,[(0,o.Lk)("div",Ee,[(0,o.Lk)("div",Pe,[t[10]||(t[10]=(0,o.Lk)("h3",null,"üè∑Ô∏è –ö–æ–º–∞–Ω–¥–∞",-1)),(0,o.Lk)("p",null,(0,y.v_)(r.teamName||"–í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞"),1)]),(0,o.Lk)("div",{class:(0,y.C4)(["info-block score",l.scoreColor])},[t[11]||(t[11]=(0,o.Lk)("h3",null,"üìä –û—Ü–µ–Ω–∫–∞",-1)),(0,o.Lk)("p",null,(0,y.v_)(r.averageScore.toFixed(2)),1)],2),(0,o.Lk)("div",xe,[t[12]||(t[12]=(0,o.Lk)("h3",null,"üèÖ –£—Ä–æ–≤–µ–Ω—å",-1)),(0,o.Lk)("p",null,(0,y.v_)(l.teamLevel),1)]),(0,o.Lk)("div",Xe,[t[13]||(t[13]=(0,o.Lk)("h3",null,"üìà –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –ø–æ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏",-1)),(0,o.Lk)("p",null,[(0,o.Lk)("span",{class:(0,y.C4)(l.compareToMarket>=0?"better":"worse")},(0,y.v_)(l.compareToMarket>=0?"+":"")+(0,y.v_)(l.compareToMarket.toFixed(1))+"% ",3)]),null!==r.previousAverage?((0,o.uX)(),(0,o.CE)("small",je,(0,y.v_)(l.performanceChangeText),1)):(0,o.Q3)("",!0)])]),r.timelineInfo?((0,o.uX)(),(0,o.CE)("div",Qe,[(0,o.Lk)("div",Me,[(0,o.Lk)("div",{class:"timeline-fill",style:(0,y.Tr)({width:l.getTimelinePosition(l.todayDate)+"%"})},null,4),(0,o.Lk)("div",{class:"timeline-dot",style:(0,y.Tr)({left:l.getTimelinePosition(r.timelineInfo.lastDate)+"%"})},[(0,o.Lk)("div",Ne," üìç –ö–æ–º–∞–Ω–¥–∞ –±—ã–ª–∞ –æ—Ü–µ–Ω–µ–Ω–∞: "+(0,y.v_)(r.timelineInfo.lastDate),1)],4),(0,o.Lk)("div",{class:"timeline-dot",style:(0,y.Tr)({left:l.getTimelinePosition(r.timelineInfo.nextDate)+"%"})},[(0,o.Lk)("div",Fe," ‚è≠ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–π –æ—Ü–µ–Ω–∫–∏: "+(0,y.v_)(r.timelineInfo.nextDate),1)],4)]),(0,o.Lk)("div",qe,[t[14]||(t[14]=(0,o.eW)(" ‚è≥ –î–æ —Å–ª–µ–¥—É—é—â–µ–π –æ—Ü–µ–Ω–∫–∏ –æ—Å—Ç–∞–ª–æ—Å—å: ")),(0,o.Lk)("strong",null,(0,y.v_)(r.timelineInfo.daysLeft)+" "+(0,y.v_)(l.pluralDays(r.timelineInfo.daysLeft)),1)])])):(0,o.Q3)("",!0),r.isAuthenticated?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Be,[t[15]||(t[15]=(0,o.Lk)("p",null,"–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö!",-1)),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.goToRegister&&l.goToRegister(...e))},"üîê –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")])),r.loading?((0,o.uX)(),(0,o.CE)("div",He,"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...")):r.error?((0,o.uX)(),(0,o.CE)("div",ze,"‚ùå "+(0,y.v_)(r.error),1)):((0,o.uX)(),(0,o.CE)("div",Ue,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.filteredRadarData,((e,t)=>((0,o.uX)(),(0,o.Wv)(i,{key:t,chartData:e,title:t,class:"radar-chart"},null,8,["chartData","title"])))),128))])),(0,o.Lk)("div",Ve,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.generateImprovementPlan&&l.generateImprovementPlan(...e)),disabled:r.loadingPlan,class:"modern-button"}," ü§ñ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π ",8,We),r.loadingPlan?((0,o.uX)(),(0,o.CE)("div",Je,"‚è≥ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–ª–∞–Ω...")):(0,o.Q3)("",!0),r.editablePlan.length?((0,o.uX)(),(0,o.CE)("div",Ke,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.editablePlan,((e,a)=>((0,o.uX)(),(0,o.CE)("li",{key:a},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.done=t},null,8,Ge),[[s.lH,e.done]]),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t=>e.text=t,class:(0,y.C4)(["editable-input",{completed:e.done}]),rows:"5",onInput:t[2]||(t[2]=e=>l.autoResize(e))},null,42,Ye),[[s.Jo,e.text]]),(0,o.Lk)("button",{onClick:e=>l.removeStep(a)},"‚ùå",8,Ze)])))),128))]),(0,o.Lk)("div",et,[(0,o.Lk)("button",{class:"modern-button blue",onClick:t[3]||(t[3]=(...e)=>l.addStep&&l.addStep(...e))}," ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç –≤ –ø–ª–∞–Ω "),(0,o.Lk)("button",{class:"modern-button green",onClick:t[4]||(t[4]=(...e)=>l.saveImprovementPlan&&l.saveImprovementPlan(...e))}," ‚úî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ")])])):r.savedPlan.length?((0,o.uX)(),(0,o.CE)("div",tt,[(0,o.Lk)("ul",at,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.savedPlan,((e,a)=>((0,o.uX)(),(0,o.CE)("li",{key:a,class:"plan-card",onClick:t[7]||(t[7]=e=>l.handleCardClick(e))},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.done=t,onChange:t[5]||(t[5]=(...e)=>l.saveImprovementPlan&&l.saveImprovementPlan(...e)),onClick:t[6]||(t[6]=(0,s.D$)((()=>{}),["stop"]))},null,40,st),[[s.lH,e.done]]),(0,o.Lk)("span",{class:(0,y.C4)({completed:e.done})},(0,y.v_)(e.text),3)])))),128))])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ot,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.fetchOpenAIRecommendations&&l.fetchOpenAIRecommendations(...e)),class:"modern-button"}," ü§ñ –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ "),r.loadingDetailedRecs?((0,o.uX)(),(0,o.CE)("div",nt,"‚è≥ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç—ã...")):(0,o.Q3)("",!0),r.recommendationsHtml?((0,o.uX)(),(0,o.CE)("div",{key:1,innerHTML:r.recommendationsHtml,class:"recommendation-html"},null,8,rt)):(0,o.Q3)("",!0),r.recommendationsHtml?((0,o.uX)(),(0,o.CE)("button",{key:2,onClick:t[9]||(t[9]=(...e)=>l.saveRecommendations&&l.saveRecommendations(...e)),class:"modern-button"}," üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ ")):(0,o.Q3)("",!0)])])}a(7588),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var it={components:{RadarChart:Ie},props:["team_id","assessment_id"],data(){return{results:{},radarData:{},loading:!0,error:null,averageScore:0,isAuthenticated:!1,recommendationsDetailed:[],loadingDetailedRecs:!1,recommendationsHtml:"",chartInstance:null,isUnmounted:!1,timelineInfo:null,resultsHistory:{},hoveredPoint:null,teamName:"",previousAverage:null,loadingPlan:!1,editablePlan:[],savedPlan:[],editing:!1}},methods:{async fetchOpenAIRecommendations(){if(this.savedPlan&&0!==this.savedPlan.length){this.loadingDetailedRecs=!0;try{const e=await u.A.post("/openai_recommend",{plan:this.savedPlan,assessment_id:this.assessmentId});console.log("üì® –û—Ç–≤–µ—Ç –æ—Ç OpenAI:",e.data.content);const t=e.data.content;this.recommendationsHtml=`<p>${t}</p>`}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:",e.response?.data||e),alert("üö´ –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.")}finally{this.loadingDetailedRecs=!1}}else alert("‚ö†Ô∏è –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–ª–∞–Ω –ø–µ—Ä–µ–¥ –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.")},async saveRecommendations(){try{const e=localStorage.getItem("token");if(!e)return console.warn("üö´ –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏."),void alert("–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!");await u.A.post(`/assessment/${this.assessment_id}/recommendations`,{recommendations:this.recommendationsHtml},{headers:{Authorization:`Bearer ${e}`}}),alert("‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!")}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:",e.response?.data||e),alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.")}},async generateImprovementPlan(){this.loadingPlan=!0;try{const e=await u.A.post("/generate_plan",{assessment_id:this.assessment_id,answer_text:this.prepareFullAnswerSummary()}),t=e.data.steps||[];this.editablePlan=t.map((e=>"string"===typeof e?{text:e,done:!1}:e)),this.editing=!0}catch(e){alert("–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–ª–∞–Ω–∞"),console.error(e)}finally{this.loadingPlan=!1}},saveImprovementPlan(){const e=localStorage.getItem("token"),t=this.editing?this.editablePlan:this.savedPlan;u.A.post(`/assessment/${this.assessment_id}/plan`,{plan:t},{headers:{Authorization:`Bearer ${e}`}}).then((()=>{this.editing&&(this.savedPlan=JSON.parse(JSON.stringify(this.editablePlan)),this.editablePlan=[],this.editing=!1)})).catch((e=>{console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞",e),alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–ª–∞–Ω")}))},editPlan(){this.editablePlan=JSON.parse(JSON.stringify(this.savedPlan)),this.editing=!0},addStep(){this.editablePlan.push({text:"",done:!1})},removeStep(e){this.editablePlan.splice(e,1)},async fetchSavedPlan(){const e=localStorage.getItem("token"),t=await u.A.get(`/assessment/${this.assessment_id}/plan`,{headers:{Authorization:`Bearer ${e}`}});this.savedPlan=t.data.plan||[]},async fetchSavedRecommendations(){try{const e=localStorage.getItem("token");if(!e)return void console.warn("üö´ –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.");const t=await u.A.get(`/assessment/${this.assessment_id}/recommendations`,{headers:{Authorization:`Bearer ${e}`}});t.data&&t.data.recommendations?(this.recommendationsHtml=`<p>${t.data.recommendations}</p>`,console.log("üì• –ü–æ–¥–≥—Ä—É–∂–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏")):console.log("‚ÑπÔ∏è –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π")}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:",e.response?.data||e)}},async fetchResultsHistory(){try{const e=localStorage.getItem("token"),t=await u.A.get(`/team_results_history/${this.team_id}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),a=t.data;this.resultsHistory=a,console.log("üìú –ò—Å—Ç–æ—Ä–∏—è –æ—Ü–µ–Ω–æ–∫:",a);const s=Object.keys(a).sort().reverse();s.length>0&&(this.timelineInfo=this.getNextAssessmentInfo(s[0])),s.length>=2?(this.buildCombinedRadarDataByCategory(a),this.calculateAverageFromLatestSession(a)):1===s.length?this.prepareRadarData():this.error="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–π–¥–∏—Ç–µ –æ–ø—Ä–æ—Å –¥–ª—è –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã."}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏:",e.response?.data||e),this.error="–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥—ã."}},async fetchResults(){try{console.log(`üì° –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥—ã ID ${this.team_id}`);const e=localStorage.getItem("token");this.isAuthenticated=!!e;const t=e?`/team_results/${this.team_id}`:`/temp_results/${this.team_id}`,a=await u.A.get(t,{headers:e?{Authorization:`Bearer ${e}`}:{}});console.log("‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:",a.data),this.teamName=a.data.team_name,this.results=a.data.results,this.prepareRadarData()}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:",e.response?.data||e),this.error="–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö."}finally{this.loading=!1}},autoResize(e){const t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"},handleCardClick(e){const t="INPUT"===e.target.tagName;t||this.editPlan()},isChartDataValid(e){return e&&Array.isArray(e.labels)&&e.labels.length>0&&Array.isArray(e.datasets)&&e.datasets.length>0},getTimelinePosition(e){const t=new Date(this.timelineInfo.lastDate),a=this.timelineInfo.nextDateObject,s=new Date(e),o=a-t,n=s-t,r=n/o*100,l=30+.4*r;return Math.min(100,Math.max(0,l)).toFixed(1)},getNextAssessmentInfo(e){const t=new Date(e),a=new Date;let s=new Date(t);s.setDate(s.getDate()+70);while(0===s.getDay()||6===s.getDay())s.setDate(s.getDate()+1);const o=Math.ceil((s-a)/864e5);return{lastDate:t.toLocaleDateString(),nextDate:s.toLocaleDateString(),daysLeft:o,nextDateObject:s}},calculateAverageFromLatestSession(e){const t=Object.keys(e).sort().reverse(),a=e[t[0]];if(!a)return console.warn("‚ö†Ô∏è –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ—Å—Å–∏–∏."),void(this.averageScore=0);let s=0,o=0;for(const n of Object.values(a))for(const e of Object.values(n))s+=e,o++;this.averageScore=o>0?s/o:0},processHistoryRadarData(e){const t=Object.keys(e).sort().reverse();if(0===t.length)return;const a=new Set,s=[];t.slice(0,2).forEach(((t,o)=>{const n=e[t],r={};for(const[e,s]of Object.entries(n))for(const[t,o]of Object.entries(s)){const s=`${e} - ${t}`;r[s]=o,a.add(s)}const l={label:0===o?"üü¢ –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞":"üü° –ü—Ä–µ–¥—ã–¥—É—â–∞—è –æ—Ü–µ–Ω–∫–∞",data:[],backgroundColor:0===o?"rgba(75, 192, 192, 0.2)":"rgba(255, 206, 86, 0.2)",borderColor:0===o?"rgba(75, 192, 192, 1)":"rgba(255, 206, 86, 1)",borderWidth:2};a.forEach((e=>{l.data.push(r[e]||0)})),s.push(l)})),this.radarData={labels:Array.from(a),datasets:s}},buildCombinedRadarData(e,t){const a=Object.keys(t).sort().reverse(),s=new Set,o={};a.slice(0,2).forEach((e=>{const a=t[e],n={};for(const[t,o]of Object.entries(a))for(const[e,a]of Object.entries(o)){const o=`${t} - ${e}`;n[o]=a,s.add(o)}o[e]=n}));const n=Array.from(s),r=[];a.slice(0,2).forEach(((e,t)=>{const a=o[e],s={label:0===t?"üü¢ –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞":"üü° –ü—Ä–µ–¥—ã–¥—É—â–∞—è –æ—Ü–µ–Ω–∫–∞",data:n.map((e=>a[e]||0)),backgroundColor:0===t?"rgba(75, 192, 192, 0.2)":"rgba(255, 206, 86, 0.2)",borderColor:0===t?"rgba(75, 192, 192, 1)":"rgba(255, 206, 86, 1)",borderWidth:2};r.push(s)})),this.radarData={labels:n,datasets:r}},buildCombinedRadarDataByCategory(e){const t=Object.keys(e).sort().reverse();if(0===t.length)return void(this.error="–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ü—Ä–æ–π–¥–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –æ—Ü–µ–Ω–∫—É.");const a=e[t[0]],s=t[1]?e[t[1]]:null,o={};for(const[n,r]of Object.entries(a)){const e=Object.keys(r),t=e.map((e=>a[n][e]||0)),l=e.map((e=>s?.[n]?.[e]||0));o[n]={labels:e,datasets:[{label:"üü¢ –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞",data:t,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:2},{label:"üü° –ü—Ä–µ–¥—ã–¥—É—â–∞—è –æ—Ü–µ–Ω–∫–∞",data:l,backgroundColor:"rgba(255, 206, 86, 0.2)",borderColor:"rgba(255, 206, 86, 1)",borderWidth:2}]}}this.radarData=o},pluralDays(e){const t=Math.abs(e);return t%10===1&&t%100!==11?"–¥–µ–Ω—å":[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"–¥–Ω—è":"–¥–Ω–µ–π"},prepareRadarData(){let e=0,t=0;this.radarData=Object.entries(this.results).reduce(((a,[s,o])=>{if(!o||0===Object.keys(o).length)return console.warn(`‚ö†Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏—è "${s}" –ø—É—Å—Ç–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º.`),a;console.log(`üìå –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: ${s}`);const n=Object.values(o).map((e=>parseFloat(e)||0)),r=n.reduce(((e,t)=>e+t),0)/n.length;return e+=r,t++,a[s]={labels:Object.keys(o),datasets:[{label:s,data:n,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:2}]},a}),{}),this.averageScore=t>0?e/t:0,console.log("üìä –ò—Ç–æ–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º:",JSON.stringify(this.radarData,null,2))},prepareFullAnswerSummary(){let e="";for(const[t,a]of Object.entries(this.results)){e+=`üìå –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${t}\n`;for(const[t,s]of Object.entries(a))e+=` - ${t}: ${s}\n`;e+="\n"}return e},goToRegister(){this.$router.push({name:"Register"})}},mounted(){this.fetchResults(),this.fetchSavedRecommendations(),this.fetchResultsHistory(),this.fetchSavedPlan()},computed:{teamLevel(){const e=this.averageScore;return e<2?"üß± –ù–∞—á–∏–Ω–∞—é—â–∏–π":e<3?"üå± –†–∞—Å—Ç—É—â–∏–π":e<4?"üöÄ –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—Ä—É—é—â–∏–π":"üèÜ –í—ã—Å–æ–∫–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π"},compareToMarket(){const e=3.75;return(this.averageScore-e)/e*100},performanceChangeText(){if(null===this.previousAverage)return"";const e=this.averageScore-this.previousAverage,t=Math.abs(e/this.previousAverage*100).toFixed(1);return e>=0?`‚¨Ü –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ ${t}%`:`‚¨á –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ ${t}%`},scoreColor(){const e=this.averageScore;return e<2?"danger":e<3?"warning":e<4?"info":"success"},filteredRadarData(){return Object.entries(this.radarData).reduce(((e,[t,a])=>(this.isChartDataValid(a)&&(e[t]=a),e)),{})},lastAssessmentDate(){const e=Object.keys(this.resultsHistory);return 0===e.length?null:new Date(e.sort().reverse()[0])},todayDate(){return new Date},recommendedNextAssessmentDate(){if(!this.lastAssessmentDate)return null;const e=new Date(this.lastAssessmentDate);return e.setDate(e.getDate()+14),e}}};const ct=(0,k.A)(it,[["render",lt],["__scopeId","data-v-085fd9da"]]);var dt=ct;const ut=[{path:"/",component:D},{path:"/login",component:P},{path:"/register",component:F},{path:"/survey",name:"UserSurvey",component:le,meta:{requiresAuth:!0}},{path:"/dashboard",component:Re},{path:"/assessment-results/:team_id/:assessment_id",name:"AssessmentResults",component:dt,props:!0}],mt=(0,f.aE)({history:(0,f.LA)(),routes:ut});mt.beforeEach(((e,t,a)=>{const s=!!localStorage.getItem("token");e.meta.requiresAuth&&!s?a("/login"):a()}));var ht=mt;const gt=(0,s.Ef)(b);gt.use(ht),gt.use((0,m.Ey)()),gt.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,n){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],n=e[d][2];for(var l=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(l=!1,n<r&&(r=n));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,r=s[0],l=s[1],i=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(i)var d=i(a)}for(t&&t(s);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(8725)}));s=a.O(s)})();
//# sourceMappingURL=app.9d661ac0.js.map