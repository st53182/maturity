{"version":3,"file":"js/31.dd60ffc6.js","mappings":"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","sources":["webpack://frontend/./src/views/SurveyResults.vue","webpack://frontend/./src/views/SurveyResults.vue?f5bb"],"sourcesContent":["<template>\r\n  <div class=\"survey-results-container\">\r\n    <div v-if=\"loading\" class=\"loading\">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...</div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error\">‚ùå {{ error }}</div>\r\n    \r\n    <div v-else class=\"results-content\">\r\n      <div class=\"results-header\">\r\n        <h1>üìä {{ survey.title }}</h1>\r\n        <div class=\"survey-meta\">\r\n          <span class=\"survey-type\">{{ survey.survey_type.toUpperCase() }}</span>\r\n          <span class=\"response-count\">{{ $t('surveys.responses') }}: {{ survey.response_count }}</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div v-if=\"survey.survey_type === 'enps'\" class=\"enps-results\">\r\n        <div class=\"metrics-grid\">\r\n          <div class=\"metric-card nps-score\">\r\n            <h3>{{ $t('surveys.npsScore') }}</h3>\r\n            <div class=\"metric-value\">{{ analytics.nps_score?.toFixed(1) || 0 }}</div>\r\n          </div>\r\n          \r\n          <div class=\"metric-card response-count\">\r\n            <h3>{{ $t('surveys.responseCount') }}</h3>\r\n            <div class=\"metric-value\">{{ analytics.response_count || 0 }}</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"question-analytics\">\r\n          <h3>–°—Ä–µ–¥–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º</h3>\r\n          <div v-for=\"(data, questionKey) in analytics.averages\" :key=\"questionKey\" class=\"question-result\">\r\n            <div class=\"question-header\">\r\n              <span class=\"question-number\">–í–æ–ø—Ä–æ—Å {{ questionKey.replace('question_', '') }}</span>\r\n              <span class=\"average-score\">{{ data.average.toFixed(2) }}</span>\r\n            </div>\r\n            \r\n            <div class=\"score-distribution\">\r\n              <div v-for=\"(count, score) in data.distribution\" :key=\"score\" \r\n                   class=\"distribution-bar\"\r\n                   :style=\"{ width: (count / data.count * 100) + '%' }\">\r\n                <span class=\"score-label\">{{ score }}: {{ count }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div v-if=\"survey.survey_type === '360'\" class=\"feedback-360-results\">\r\n        <div class=\"competency-results\">\r\n          <h3>{{ $t('surveys.competencyRatings') }}</h3>\r\n          \r\n          <div v-for=\"(data, competency) in analytics.competency_averages\" :key=\"competency\" \r\n               class=\"competency-item\">\r\n            <div class=\"competency-header\">\r\n              <span class=\"competency-name\">{{ competency }}</span>\r\n              <span class=\"competency-score\">{{ data.average.toFixed(2) }}</span>\r\n            </div>\r\n            \r\n            <div class=\"competency-bar\">\r\n              <div class=\"bar-fill\" :style=\"{ width: (data.average / 5 * 100) + '%' }\"></div>\r\n            </div>\r\n            \r\n            <span class=\"response-count\">{{ data.count }} {{ data.count === 1 ? '–æ—Ç–≤–µ—Ç' : '–æ—Ç–≤–µ—Ç–æ–≤' }}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div v-if=\"analytics.detailed_responses\" class=\"detailed-responses\">\r\n          <h3>{{ $t('surveys.detailedView') }}</h3>\r\n          <div class=\"toggle-anonymous\">\r\n            <label>\r\n              <input type=\"checkbox\" v-model=\"showDetailedNames\" />\r\n              –ü–æ–∫–∞–∑–∞—Ç—å –∏–º–µ–Ω–∞ —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª—è)\r\n            </label>\r\n          </div>\r\n          \r\n          <div v-for=\"(response, index) in analytics.detailed_responses\" :key=\"index\" \r\n               class=\"response-card\">\r\n            <div class=\"response-header\">\r\n              <span v-if=\"showDetailedNames\" class=\"respondent-name\">\r\n                {{ response.respondent_name || '–ê–Ω–æ–Ω–∏–º–Ω—ã–π' }}\r\n              </span>\r\n              <span v-else class=\"respondent-anonymous\">–†–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç {{ index + 1 }}</span>\r\n              <span class=\"response-date\">{{ formatDate(response.submitted_at) }}</span>\r\n            </div>\r\n            \r\n            <div class=\"response-content\">\r\n              <div v-for=\"(answer, questionId) in response.answers\" :key=\"questionId\" \r\n                   class=\"answer-item\">\r\n                <strong>{{ getQuestionText(questionId) }}:</strong>\r\n                <div v-if=\"typeof answer === 'object'\" class=\"matrix-answer\">\r\n                  <div v-for=\"(rating, competency) in answer\" :key=\"competency\" \r\n                       class=\"matrix-item\">\r\n                    {{ competency }}: {{ rating }}\r\n                  </div>\r\n                </div>\r\n                <div v-else class=\"text-answer\">{{ answer }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"export-section\">\r\n        <button @click=\"exportResults\" class=\"export-btn\">\r\n          üìÑ {{ $t('surveys.exportResults') }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'SurveyAnalytics',\r\n  data() {\r\n    return {\r\n      survey: null,\r\n      analytics: {},\r\n      loading: true,\r\n      error: null,\r\n      showDetailedNames: false\r\n    }\r\n  },\r\n  \r\n  async mounted() {\r\n    await this.loadResults()\r\n  },\r\n  \r\n  methods: {\r\n    async loadResults() {\r\n      try {\r\n        const surveyId = this.$route.params.surveyId\r\n        const token = localStorage.getItem('token')\r\n        \r\n        const response = await axios.get(`/api/surveys/${surveyId}/results`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        \r\n        this.survey = response.data.survey\r\n        this.analytics = response.data.analytics\r\n        \r\n      } catch (error) {\r\n        console.error('Error loading results:', error)\r\n        this.error = error.response?.data?.error || '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤'\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    getQuestionText(questionId) {\r\n      const questionMap = {\r\n        '1': '–ò–º—è',\r\n        '2': '–ö–ª—é—á–µ–≤—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã',\r\n        '3': '–û–±–ª–∞—Å—Ç–∏ —Ä–∞–∑–≤–∏—Ç–∏—è',\r\n        '4': '–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–∑–≤–∏—Ç–∏—è',\r\n        '5': '–î—Ä—É–≥–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏',\r\n        '6': '–û—Ü–µ–Ω–∫–∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π'\r\n      }\r\n      return questionMap[questionId] || `–í–æ–ø—Ä–æ—Å ${questionId}`\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      return new Date(dateString).toLocaleDateString('ru-RU', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      })\r\n    },\r\n    \r\n    exportResults() {\r\n      const csvContent = this.generateCSV()\r\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' })\r\n      const link = document.createElement('a')\r\n      const url = URL.createObjectURL(blob)\r\n      link.setAttribute('href', url)\r\n      link.setAttribute('download', `${this.survey.title}_results.csv`)\r\n      link.style.visibility = 'hidden'\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link)\r\n    },\r\n    \r\n    generateCSV() {\r\n      let csv = 'Survey Results\\n'\r\n      csv += `Title: ${this.survey.title}\\n`\r\n      csv += `Type: ${this.survey.survey_type}\\n`\r\n      csv += `Responses: ${this.survey.response_count}\\n\\n`\r\n      \r\n      if (this.survey.survey_type === 'enps') {\r\n        csv += 'Question,Average Score,Response Count\\n'\r\n        Object.entries(this.analytics.averages || {}).forEach(([key, data]) => {\r\n          csv += `${key},${data.average.toFixed(2)},${data.count}\\n`\r\n        })\r\n      }\r\n      \r\n      return csv\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.survey-results-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.results-header {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.survey-meta {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.survey-type {\r\n  background: #3498db;\r\n  color: white;\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n}\r\n\r\n.metrics-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.metric-card {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n  text-align: center;\r\n}\r\n\r\n.metric-value {\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  color: #2ecc71;\r\n  margin-top: 10px;\r\n}\r\n\r\n.question-analytics, .competency-results {\r\n  background: white;\r\n  padding: 30px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.question-result, .competency-item {\r\n  margin-bottom: 20px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.question-header, .competency-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.average-score, .competency-score {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #3498db;\r\n}\r\n\r\n.score-distribution {\r\n  display: flex;\r\n  gap: 5px;\r\n  height: 30px;\r\n}\r\n\r\n.distribution-bar {\r\n  background: #3498db;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-size: 12px;\r\n  min-width: 40px;\r\n}\r\n\r\n.competency-bar {\r\n  width: 100%;\r\n  height: 20px;\r\n  background: #ecf0f1;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.bar-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #e74c3c, #f39c12, #f1c40f, #2ecc71, #27ae60);\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.detailed-responses {\r\n  background: white;\r\n  padding: 30px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.response-card {\r\n  border: 1px solid #eee;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.response-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 15px;\r\n  font-weight: bold;\r\n}\r\n\r\n.answer-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.matrix-answer {\r\n  margin-top: 5px;\r\n  padding-left: 20px;\r\n}\r\n\r\n.matrix-item {\r\n  margin-bottom: 5px;\r\n  font-size: 14px;\r\n}\r\n\r\n.text-answer {\r\n  margin-top: 5px;\r\n  padding: 10px;\r\n  background: #f8f9fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n.export-section {\r\n  text-align: center;\r\n}\r\n\r\n.export-btn {\r\n  background: #2ecc71;\r\n  color: white;\r\n  padding: 15px 30px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.export-btn:hover {\r\n  background: #27ae60;\r\n}\r\n\r\n.loading, .error {\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n}\r\n\r\n.error {\r\n  color: #e74c3c;\r\n}\r\n</style>\r\n","import { render } from \"./SurveyResults.vue?vue&type=template&id=24dd4610&scoped=true\"\nimport script from \"./SurveyResults.vue?vue&type=script&lang=js\"\nexport * from \"./SurveyResults.vue?vue&type=script&lang=js\"\n\nimport \"./SurveyResults.vue?vue&type=style&index=0&id=24dd4610&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24dd4610\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","$data","loading","_hoisted_2","error","_hoisted_3","_toDisplayString","_hoisted_4","_createElementVNode","_hoisted_5","survey","title","_hoisted_6","_hoisted_7","survey_type","toUpperCase","_hoisted_8","_ctx","$t","response_count","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","analytics","nps_score","toFixed","_hoisted_13","_hoisted_14","_hoisted_15","_Fragment","_renderList","averages","data","questionKey","_hoisted_16","_hoisted_17","replace","_hoisted_18","average","_hoisted_19","distribution","count","score","style","_normalizeStyle","width","_hoisted_20","_createCommentVNode","_hoisted_21","_hoisted_22","competency_averages","competency","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","detailed_responses","_hoisted_28","_hoisted_29","type","_cache","$event","showDetailedNames","_createTextVNode","response","index","_hoisted_30","_hoisted_31","respondent_name","_hoisted_32","_hoisted_33","$options","formatDate","submitted_at","_hoisted_34","answers","answer","questionId","getQuestionText","_hoisted_35","rating","_hoisted_36","_hoisted_37","onClick","args","exportResults","name","mounted","this","loadResults","methods","surveyId","$route","params","token","localStorage","getItem","axios","get","headers","Authorization","console","questionMap","dateString","Date","toLocaleDateString","year","month","day","hour","minute","csvContent","generateCSV","blob","Blob","link","document","createElement","url","URL","createObjectURL","setAttribute","visibility","body","appendChild","click","removeChild","csv","Object","entries","forEach","__exports__","render"],"sourceRoot":""}