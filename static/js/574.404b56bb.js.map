{"version":3,"file":"js/574.404b56bb.js","mappings":"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","sources":["webpack://frontend/./src/views/ConflictResolution.vue","webpack://frontend/./src/views/ConflictResolution.vue?161a"],"sourcesContent":["<template>\n  <div class=\"conflict-container\">\n    <h1>{{ $t('conflicts.title') }}</h1>\n\n    <!-- üîπ –§–∏–ª—å—Ç—Ä -->\n    <div class=\"filter-bar\">\n      <button\n        v-for=\"s in statuses\"\n        :key=\"s\"\n        :class=\"{ active: filterStatus === s }\"\n        @click=\"filterStatus = s\"\n      >\n        {{ getStatusLabel(s) }}\n      </button>\n      <button @click=\"openModal(null)\" class=\"add-btn\">‚ûï {{ $t('conflicts.addConflict') }}</button>\n    </div>\n\n    <!-- üîπ –ö–∞—Ä—Ç–æ—á–∫–∏ -->\n    <div class=\"conflict-list\">\n      <div\n        v-for=\"conflict in filteredConflicts\"\n        :key=\"conflict.id\"\n        class=\"conflict-card\"\n      >\n        <h3>üß† {{ conflict.context.slice(0, 100) }}...</h3>\n        <p>üë• {{ $t('conflicts.participants') }}: {{ getParticipantNames(conflict.participants) }}</p>\n        <p>üéØ {{ $t('conflicts.goal') }}: {{ conflict.goal }}</p>\n        <p>üìå {{ $t('conflicts.status') }}: <strong>{{ getStatusLabel(conflict.status) }}</strong></p>\n        <div v-if=\"conflict.ai_analysis\" class=\"summary-block\">\n    <strong>üìù {{ $t('conflicts.recommendations') }}:</strong>\n    <p v-html=\"shortenAnalysis(conflict.ai_analysis)\"></p>\n  </div>\n        <button @click=\"openModal(conflict)\">‚úèÔ∏è {{ $t('conflicts.openOrEdit') }}</button>\n        <button class=\"delete-btn\" @click=\"deleteConflict(conflict.id)\">üóë</button>\n      </div>\n    </div>\n\n    <!-- üîπ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->\n    <div class=\"modal-overlay\" v-if=\"showModal\">\n\n      <div class=\"modal-content\">\n        <div v-if=\"form.ai_response\" class=\"ai-analysis\" v-html=\"form.ai_response\"></div>\n        <h2>{{ form.id ? $t('conflicts.editConflict') : $t('conflicts.addConflict') }}</h2>\n        <label>{{ $t('conflicts.context') }}</label>\n        <textarea v-model=\"form.context\" rows=\"3\" :placeholder=\"$t('conflicts.contextPlaceholder')\"></textarea>\n\n        <label>{{ $t('conflicts.participants') }}</label>\n        <select v-model=\"form.participants\" multiple>\n          <option v-for=\"e in employees\" :value=\"e.id\" :key=\"e.id\">{{ e.name }}</option>\n        </select>\n\n        <label>{{ $t('conflicts.actionsTaken') }}</label>\n        <textarea v-model=\"form.actions_taken\" rows=\"3\" :placeholder=\"$t('conflicts.actionsTakenPlaceholder')\"></textarea>\n\n        <label>{{ $t('conflicts.goal') }}</label>\n        <textarea v-model=\"form.goal\" rows=\"3\" :placeholder=\"$t('conflicts.goalPlaceholder')\"></textarea>\n\n        <label>{{ $t('conflicts.status') }}</label>\n        <select v-model=\"form.status\">\n          <option value=\"–ê–∫—Ç–∏–≤–µ–Ω\">{{ $t('conflicts.active') }}</option>\n          <option value=\"–ó–∞–∫—Ä—ã—Ç\">{{ $t('conflicts.closed') }}</option>\n          <option value=\"–û–±–æ—Å—Ç—Ä–µ–Ω–∏–µ\">{{ $t('conflicts.escalated') }}</option>\n        </select>\n\n        <div class=\"modal-actions\">\n  <button class=\"generate-btn\" @click=\"submitConflict\" :disabled=\"loading\">\n    üí¨ {{ loading ? $t('conflicts.analyzing') : $t('conflicts.analyze') }}\n  </button>\n  <button\n  v-if=\"form.id\"\n  class=\"save-btn\"\n  @click=\"saveConflict\"\n  :disabled=\"saving\"\n>\n  üíæ {{ saving ? $t('common.loading') : $t('common.save') }}\n</button>\n  <button class=\"modal-close\" @click=\"showModal = false\">‚úñ</button>\n</div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      conflicts: [],\n      employees: [],\n      showModal: false,\n      saving: false,\n      loading: false,\n\n      filterStatus: \"all\",\n      statuses: [\"all\", \"active\", \"closed\", \"escalated\"],\n\n      form: {\n        id: null,\n        context: \"\",\n        participants: [],\n        actions_taken: \"\",\n        goal: \"\",\n        status: \"active\",\n        ai_response: \"\"\n      }\n    };\n  },\n\n  computed: {\n    filteredConflicts() {\n      if (this.filterStatus === \"all\") return this.conflicts;\n      return this.conflicts.filter(c => c.status === this.filterStatus);\n    }\n  },\n\n  methods: {\n    async fetchConflicts() {\n      const token = localStorage.getItem(\"token\");\n\n      try {\n        const res = await fetch(\"/api/conflicts\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        const contentType = res.headers.get(\"content-type\");\n        if (!res.ok || !contentType?.includes(\"application/json\")) {\n          console.error(this.$t('console.loadingConflictsError'), await res.text());\n          return;\n        }\n\n        this.conflicts = await res.json();\n      } catch (err) {\n        console.error(this.$t('console.loadingConflictsError'), err);\n      }\n    },\n\n    async fetchEmployees() {\n      const token = localStorage.getItem(\"token\");\n\n      try {\n        const res = await fetch(\"/employees\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        const contentType = res.headers.get(\"content-type\");\n        if (!res.ok || !contentType?.includes(\"application/json\")) {\n          console.error(this.$t('console.loadingEmployeesError'), await res.text());\n          return;\n        }\n\n        this.employees = await res.json();\n      } catch (err) {\n        console.error(this.$t('console.loadingEmployeesError'), err);\n      }\n    },\n\n    shortenAnalysis(html) {\n      const stripped = html.replace(/<[^>]+>/g, '');\n      return stripped.slice(0, 350) + \"...\";\n    },\n\n    getParticipantNames(ids) {\n      try {\n        const parsed = Array.isArray(ids) ? ids : JSON.parse(ids);\n        return this.employees\n          .filter(e => parsed.includes(e.id))\n          .map(e => e.name)\n          .join(\", \");\n      } catch (e) {\n        return \"‚Äî\";\n      }\n    },\n\n    openModal(conflict) {\n      if (conflict) {\n        this.form = { ...conflict };\n\n        try {\n          this.form.participants = JSON.parse(conflict.participants || \"[]\");\n        } catch {\n          this.form.participants = [];\n        }\n\n        this.form.ai_response = conflict.ai_analysis || \"\";\n        this.form.actions_taken = conflict.attempts || \"\";\n      } else {\n        this.form = {\n          id: null,\n          context: \"\",\n          participants: [],\n          actions_taken: \"\",\n          goal: \"\",\n          status: \"active\",\n          ai_response: \"\"\n        };\n      }\n\n      this.showModal = true;\n    },\n\n    async deleteConflict(id) {\n      const token = localStorage.getItem(\"token\");\n\n      try {\n        await fetch(`/api/conflict/${id}`, {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        await this.fetchConflicts();\n      } catch (err) {\n        alert(this.$t('conflicts.deleteError'));\n        console.error(err);\n      }\n    },\n\n    async submitConflict() {\n      this.loading = true;\n      const token = localStorage.getItem(\"token\");\n\n      const payload = {\n        ...this.form,\n        participants: JSON.stringify(this.form.participants),\n        attempts: this.form.actions_taken\n      };\n\n      delete payload.actions_taken;\n\n      const isEditing = !!this.form.id;\n      const url = isEditing\n        ? `/api/conflict/${this.form.id}`\n        : `/api/conflicts`;\n\n      const method = isEditing ? \"PUT\" : \"POST\";\n\n      try {\n        const res = await fetch(url, {\n          method,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n          },\n          body: JSON.stringify(payload)\n        });\n\n        const data = await res.json();\n\n        if (res.ok) {\n          this.form.ai_response = data.analysis;\n          await this.fetchConflicts();\n        } else {\n          alert(data.error || this.$t('conflicts.saveError'));\n        }\n      } catch (err) {\n        console.error(err);\n        alert(this.$t('conflicts.connectionError'));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async saveConflict() {\n      this.saving = true;\n      const token = localStorage.getItem(\"token\");\n\n      const payload = {\n        ...this.form,\n        participants: JSON.stringify(this.form.participants),\n        attempts: this.form.actions_taken\n      };\n\n      delete payload.actions_taken;\n\n      try {\n        const res = await fetch(\"/api/conflicts/save\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n          },\n          body: JSON.stringify(payload)\n        });\n\n        const data = await res.json();\n\n        if (res.ok) {\n          this.showModal = false;\n          await this.fetchConflicts();\n        } else {\n          alert(data.error || this.$t('conflicts.saveError'));\n        }\n      } catch (err) {\n        alert(this.$t('conflicts.connectionError'));\n        console.error(err);\n      } finally {\n        this.saving = false;\n      }\n    },\n\n    getStatusLabel(status) {\n      const statusMap = {\n        'all': this.$t('common.all'),\n        'active': this.$t('conflicts.active'),\n        'closed': this.$t('conflicts.closed'),\n        'escalated': this.$t('conflicts.escalated')\n      };\n      return statusMap[status] || status;\n    },\n\n    async waitForTokenAndInit() {\n      let retries = 10;\n      while (!localStorage.getItem(\"token\") && retries > 0) {\n        await new Promise(resolve => setTimeout(resolve, 300));\n        retries--;\n      }\n\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        this.$router.push(\"/login\");\n        return;\n      }\n\n      await this.fetchConflicts();\n      await this.fetchEmployees();\n    }\n  },\n\n  mounted() {\n    this.waitForTokenAndInit();\n  }\n};\n</script>\n\n\n<style scoped>\n/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */\n.conflict-container {\n  max-width: 1200px;\n  margin: 40px auto;\n  padding: 20px;\n  background: #f2f4f7;\n  border-radius: 14px;\n  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.06);\n  font-family: \"Segoe UI\", sans-serif;\n}\n\n/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */\nh1 {\n  font-size: 26px;\n  margin-bottom: 20px;\n  color: #2c3e50;\n}\n\n/* –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ */\n.filter-bar {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.filter-bar button {\n  background: #ecf0f1;\n  border: none;\n  padding: 10px 18px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 500;\n  color: #34495e;\n  transition: 0.3s;\n}\n\n.filter-bar button.active,\n.filter-bar button:hover {\n  background: #3498db;\n  color: white;\n}\n\n.add-btn {\n  background-color: #2ecc71 !important;\n  color: white !important;\n  font-weight: bold;\n}\n\n/* –ö–∞—Ä—Ç–æ—á–∫–∏ */\n.conflict-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  gap: 20px;\n}\n\n.conflict-card {\n  background: #fdfdfd;\n  padding: 16px;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  transition: transform 0.25s ease, box-shadow 0.25s ease;\n}\n\n.conflict-card:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n}\n\n.conflict-card h3 {\n  font-size: 18px;\n  color: #333;\n  margin-bottom: 8px;\n}\n\n.conflict-card p {\n  font-size: 14px;\n  color: #444;\n  margin: 6px 0 10px;\n  line-height: 1.6;\n}\n\n.conflict-card p + p {\n  margin-top: 12px;\n}\n\n.conflict-card p strong {\n  display: inline-block;\n  margin-top: 4px;\n}\n\n/* –ë–ª–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π */\n.recommendation-title {\n  font-weight: bold;\n  margin-top: 14px;\n  color: #e74c3c;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.recommendation-text {\n  background: #fcfcfc;\n  border-left: 3px solid #e67e22;\n  padding: 10px 12px;\n  border-radius: 8px;\n  margin-top: 8px;\n  font-size: 14px;\n  line-height: 1.5;\n  color: #333;\n}\n\n/* –ö–Ω–æ–ø–∫–∏ */\n.conflict-card button {\n  background: #3498db;\n  color: white;\n  border: none;\n  padding: 9px 16px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: 0.3s;\n}\n\n.conflict-card button:hover {\n  background: #2b7bbd;\n}\n\n.conflict-card .delete-btn {\n  background: #e74c3c;\n}\n\n.conflict-card .delete-btn:hover {\n  background: #c0392b;\n}\n\n/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.4);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 99;\n}\n\n.modal-content {\n  background: #fff;\n  padding: 30px;\n  border-radius: 16px;\n  width: 97%;\n  max-width: 720px;\n  max-height: 90vh;\n  overflow-y: auto;\n  position: relative;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n}\n\n.modal-content h2 {\n  font-size: 22px;\n  margin-bottom: 20px;\n  color: #2c3e50;\n}\n\n.modal-content label {\n  display: block;\n  margin-top: 16px;\n  font-weight: bold;\n  color: #34495e;\n  font-size: 14px;\n}\n\n.modal-content textarea,\n.modal-content select {\n  width: 97%;\n  margin-top: 6px;\n  padding: 12px;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  resize: vertical;\n  font-size: 14px;\n  box-sizing: border-box;\n\n}\n\n/* –ö–Ω–æ–ø–∫–∏ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ */\n.modal-actions {\n  margin-top: 24px;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.modal-actions button {\n  flex: 1 1 auto;\n  padding: 10px 18px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: 0.25s ease-in-out;\n}\n\n.modal-actions button:first-child {\n  background: #2980b9;\n  color: white;\n}\n\n.modal-actions button:first-child:hover {\n  background: #2471a3;\n}\n\n.modal-actions button:nth-child(2) {\n  background: #8e44ad;\n  color: white;\n}\n\n.modal-actions button:nth-child(2):hover {\n  background: #732d91;\n}\n\n.modal-actions .modal-close {\n  background: #eee;\n  color: #333;\n  font-size: 18px;\n  padding: 8px 14px;\n}\n\n.modal-actions .modal-close:hover {\n  background: #ddd;\n  color: #000;\n}\n\n/* AI –ê–Ω–∞–ª–∏–∑ */\n.ai-analysis {\n  margin-top: 20px;\n  background: #f9f9f9;\n  padding: 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  color: #333;\n}\n\n.ai-analysis ul {\n  list-style: disc;\n  padding-left: 20px;\n}\n\n@media (max-width: 768px) {\n  .conflict-container {\n    margin: 20px 10px !important;\n    padding: 15px !important;\n  }\n  \n  .filter-bar {\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .filter-bar button {\n    width: 100%;\n    text-align: center;\n  }\n  \n  .conflict-list {\n    grid-template-columns: 1fr;\n    gap: 15px;\n  }\n  \n  .conflict-card {\n    padding: 15px;\n  }\n  \n  .modal-content {\n    width: 95% !important;\n    max-width: 95% !important;\n    padding: 20px 15px !important;\n    margin: 10px !important;\n  }\n  \n  .modal-content textarea,\n  .modal-content select {\n    width: 100% !important;\n    font-size: 16px !important;\n    box-sizing: border-box !important;\n  }\n  \n  .modal-actions {\n    flex-direction: column !important;\n    gap: 10px !important;\n  }\n  \n  .modal-actions button {\n    width: 100% !important;\n  }\n}\n</style>\n","import { render } from \"./ConflictResolution.vue?vue&type=template&id=61581f48&scoped=true\"\nimport script from \"./ConflictResolution.vue?vue&type=script&lang=js\"\nexport * from \"./ConflictResolution.vue?vue&type=script&lang=js\"\n\nimport \"./ConflictResolution.vue?vue&type=style&index=0&id=61581f48&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-61581f48\"]])\n\nexport default __exports__"],"names":["class","key","value","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_ctx","$t","_hoisted_2","_Fragment","_renderList","$data","statuses","s","_normalizeClass","active","filterStatus","onClick","$event","$options","getStatusLabel","_hoisted_3","_cache","openModal","_hoisted_4","filteredConflicts","conflict","id","context","slice","getParticipantNames","participants","goal","_createTextVNode","status","ai_analysis","_hoisted_5","innerHTML","shortenAnalysis","_hoisted_6","_createCommentVNode","_hoisted_7","deleteConflict","_hoisted_8","showModal","_hoisted_9","_hoisted_10","form","ai_response","_hoisted_11","rows","placeholder","_hoisted_12","multiple","employees","e","name","_hoisted_13","actions_taken","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","args","submitConflict","disabled","loading","_hoisted_20","saveConflict","saving","_hoisted_21","data","conflicts","computed","this","filter","c","methods","fetchConflicts","token","localStorage","getItem","res","fetch","headers","Authorization","contentType","get","ok","includes","console","error","text","json","err","fetchEmployees","html","stripped","replace","ids","parsed","Array","isArray","JSON","parse","map","join","attempts","method","alert","payload","stringify","isEditing","url","body","analysis","statusMap","waitForTokenAndInit","retries","Promise","resolve","setTimeout","$router","push","mounted","__exports__","render"],"sourceRoot":""}