"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[404],{3404:function(t,l,o){o.r(l),o.d(l,{default:function(){return y}});var e=o(6768),n=o(4232),s=o(5130);const a={class:"conflict-container"},i={class:"filter-bar"},c=["onClick"],r={class:"conflict-list"},u=["onClick"],f=["onClick"],p={key:0,class:"modal-overlay"},d={class:"modal-content"},k=["value"],m={class:"modal-actions"},h=["innerHTML"];function C(t,l,o,C,L,v){return(0,e.uX)(),(0,e.CE)("div",a,[l[15]||(l[15]=(0,e.Lk)("h1",null,"üî• –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –∫–æ–º–∞–Ω–¥–∞—Ö",-1)),(0,e.Lk)("div",i,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(L.statuses,(t=>((0,e.uX)(),(0,e.CE)("button",{key:t,class:(0,n.C4)({active:L.filterStatus===t}),onClick:l=>L.filterStatus=t},(0,n.v_)(t),11,c)))),128)),(0,e.Lk)("button",{onClick:l[0]||(l[0]=t=>v.openModal(null)),class:"add-btn"},"‚ûï –ù–æ–≤—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç")]),(0,e.Lk)("div",r,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(v.filteredConflicts,(t=>((0,e.uX)(),(0,e.CE)("div",{key:t.id,class:"conflict-card"},[(0,e.Lk)("h3",null,"üß† "+(0,n.v_)(t.context.slice(0,100))+"...",1),(0,e.Lk)("p",null,"üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏: "+(0,n.v_)(v.getParticipantNames(t.participants)),1),(0,e.Lk)("p",null,"üéØ –¶–µ–ª—å: "+(0,n.v_)(t.goal),1),(0,e.Lk)("p",null,[l[8]||(l[8]=(0,e.eW)("üìå –°—Ç–∞—Ç—É—Å: ")),(0,e.Lk)("strong",null,(0,n.v_)(t.status),1)]),(0,e.Lk)("button",{onClick:l=>v.openModal(t)},"‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",8,u),(0,e.Lk)("button",{class:"delete-btn",onClick:l=>v.deleteConflict(t.id)},"üóë",8,f)])))),128))]),L.showModal?((0,e.uX)(),(0,e.CE)("div",p,[(0,e.Lk)("div",d,[(0,e.Lk)("h2",null,(0,n.v_)(L.form.id?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å":"–ù–æ–≤—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç"),1),l[10]||(l[10]=(0,e.Lk)("label",null,"–ö–æ–Ω—Ç–µ–∫—Å—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞",-1)),(0,e.bo)((0,e.Lk)("textarea",{"onUpdate:modelValue":l[1]||(l[1]=t=>L.form.context=t),rows:"3"},null,512),[[s.Jo,L.form.context]]),l[11]||(l[11]=(0,e.Lk)("label",null,"–£—á–∞—Å—Ç–Ω–∏–∫–∏",-1)),(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":l[2]||(l[2]=t=>L.form.participants=t),multiple:""},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(L.employees,(t=>((0,e.uX)(),(0,e.CE)("option",{value:t.id,key:t.id},(0,n.v_)(t.name),9,k)))),128))],512),[[s.u1,L.form.participants]]),l[12]||(l[12]=(0,e.Lk)("label",null,"–ß—Ç–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞–ª–æ—Å—å?",-1)),(0,e.bo)((0,e.Lk)("textarea",{"onUpdate:modelValue":l[3]||(l[3]=t=>L.form.actions_taken=t),rows:"2"},null,512),[[s.Jo,L.form.actions_taken]]),l[13]||(l[13]=(0,e.Lk)("label",null,"–¶–µ–ª—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è",-1)),(0,e.bo)((0,e.Lk)("textarea",{"onUpdate:modelValue":l[4]||(l[4]=t=>L.form.goal=t),rows:"2"},null,512),[[s.Jo,L.form.goal]]),l[14]||(l[14]=(0,e.Lk)("label",null,"–°—Ç–∞—Ç—É—Å",-1)),(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":l[5]||(l[5]=t=>L.form.status=t)},l[9]||(l[9]=[(0,e.Lk)("option",{value:"–ê–∫—Ç–∏–≤–µ–Ω"},"–ê–∫—Ç–∏–≤–µ–Ω",-1),(0,e.Lk)("option",{value:"–ó–∞–∫—Ä—ã—Ç"},"–ó–∞–∫—Ä—ã—Ç",-1),(0,e.Lk)("option",{value:"–û–±–æ—Å—Ç—Ä–µ–Ω–∏–µ"},"–û–±–æ—Å—Ç—Ä–µ–Ω–∏–µ",-1)]),512),[[s.u1,L.form.status]]),(0,e.Lk)("div",m,[(0,e.Lk)("button",{onClick:l[6]||(l[6]=(...t)=>v.submitConflict&&v.submitConflict(...t))},"üí¨ –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"),(0,e.Lk)("button",{class:"modal-close",onClick:l[7]||(l[7]=t=>L.showModal=!1)},"‚úñ")]),L.form.ai_response?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"ai-analysis",innerHTML:L.form.ai_response},null,8,h)):(0,e.Q3)("",!0)])])):(0,e.Q3)("",!0)])}o(8111),o(2489),o(1701);var L={data(){return{conflicts:[],employees:[],showModal:!1,filterStatus:"–í—Å–µ",statuses:["–í—Å–µ","–ê–∫—Ç–∏–≤–µ–Ω","–ó–∞–∫—Ä—ã—Ç","–û–±–æ—Å—Ç—Ä–µ–Ω–∏–µ"],form:{id:null,context:"",participants:[],actions_taken:"",goal:"",status:"–ê–∫—Ç–∏–≤–µ–Ω",ai_response:""}}},computed:{filteredConflicts(){return"–í—Å–µ"===this.filterStatus?this.conflicts:this.conflicts.filter((t=>t.status===this.filterStatus))}},methods:{async fetchConflicts(){const t=await fetch("/conflicts");this.conflicts=await t.json()},async fetchEmployees(){const t=await fetch("/employees");this.employees=await t.json()},getParticipantNames(t){if(!t)return"‚Äî";const l=Array.isArray(t)?t:JSON.parse(t);return this.employees.filter((t=>l.includes(t.id))).map((t=>t.name)).join(", ")},openModal(t){t?(this.form={...t},this.form.participants=JSON.parse(t.participants||"[]")):this.form={id:null,context:"",participants:[],actions_taken:"",goal:"",status:"–ê–∫—Ç–∏–≤–µ–Ω",ai_response:""},this.showModal=!0},async submitConflict(){const t={...this.form};t.participants=JSON.stringify(t.participants);const l=await fetch("/conflict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await l.json();this.form.ai_response=o.analysis,await this.fetchConflicts()},async deleteConflict(t){confirm("–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç?")&&(await fetch(`/conflict/${t}`,{method:"DELETE"}),this.fetchConflicts())}},mounted(){this.fetchConflicts(),this.fetchEmployees()}},v=o(1241);const b=(0,v.A)(L,[["render",C],["__scopeId","data-v-8875097c"]]);var y=b}}]);
//# sourceMappingURL=404.62ba4c69.js.map