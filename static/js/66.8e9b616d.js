"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[66],{66:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var l=t(6768),o=t(4232),r=t(5130);const s={class:"motivation-container"},i={class:"employee-cards"},n=["onClick"],m=["src"],c={class:"name"},d={class:"disc"},u={class:"form-group"},p=["value"],h={class:"form-group"},k=["disabled"],f={key:1,class:"result-block"},b=["innerHTML"];function v(e,a,t,v,y,L){return(0,l.uX)(),(0,l.CE)("div",s,[a[20]||(a[20]=(0,l.Lk)("h1",null,"üéØ –ú–æ—Ç–∏–≤–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞",-1)),(0,l.Lk)("div",i,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(y.employees,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"employee-card",onClick:a=>L.selectEmployee(e)},[(0,l.Lk)("img",{src:L.getAvatar(e.id),class:"avatar"},null,8,m),(0,l.Lk)("div",c,(0,o.v_)(e.name),1),(0,l.Lk)("div",d,(0,o.v_)(L.parseDisc(e.ai_analysis)),1)],8,n)))),128)),(0,l.Lk)("div",{class:"employee-card add-card",onClick:a[0]||(a[0]=(...e)=>L.resetForm&&L.resetForm(...e))},a[10]||(a[10]=[(0,l.eW)(" ‚ûï "),(0,l.Lk)("div",{style:{"font-size":"14px","margin-top":"5px"}},"–î–æ–±–∞–≤–∏—Ç—å",-1)]))]),y.selectedEmployee&&""!==y.result?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("form",{key:0,onSubmit:a[8]||(a[8]=(0,r.D$)(((...e)=>L.submitMotivation&&L.submitMotivation(...e)),["prevent"]))},[(0,l.Lk)("div",u,[a[12]||(a[12]=(0,l.Lk)("label",null,"–ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>y.form.name=e),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",required:""},null,512),[[r.Jo,y.form.name]]),a[13]||(a[13]=(0,l.Lk)("label",null,"–î–æ–ª–∂–Ω–æ—Å—Ç—å:",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>y.form.role=e),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–Ω–∞–ª–∏—Ç–∏–∫...",required:""},null,512),[[r.Jo,y.form.role]]),a[14]||(a[14]=(0,l.Lk)("label",null,"–ö–æ–º–∞–Ω–¥–∞:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>y.form.team_id=e),required:""},[a[11]||(a[11]=(0,l.Lk)("option",{disabled:"",value:""},"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(y.teams,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.name),9,p)))),128))],512),[[r.u1,y.form.team_id]])]),(0,l.Lk)("div",h,[a[15]||(a[15]=(0,l.Lk)("label",null,"1. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç—Ä–µ—Å—Å–æ–≤–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[4]||(a[4]=e=>y.form.stress=e),required:"",placeholder:"–ö–∞–∫ –æ–Ω —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –¥–∞–≤–ª–µ–Ω–∏–µ, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã..."},null,512),[[r.Jo,y.form.stress]]),a[16]||(a[16]=(0,l.Lk)("label",null,"2. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[5]||(a[5]=e=>y.form.communication=e),required:"",placeholder:"–û—Ç–∫—Ä—ã—Ç—ã–π, —Å–¥–µ—Ä–∂–∞–Ω–Ω—ã–π, –ª—é–±–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∫–æ–º–∞–Ω–¥–µ –∏–ª–∏ –æ–¥–∏–Ω..."},null,512),[[r.Jo,y.form.communication]]),a[17]||(a[17]=(0,l.Lk)("label",null,"3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Ä–∞–±–æ—Ç–µ",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[6]||(a[6]=e=>y.form.behavior=e),required:"",placeholder:"–ü—Ä–∏–≤—ã—á–∫–∏, –ø–æ–¥—Ö–æ–¥, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ..."},null,512),[[r.Jo,y.form.behavior]]),a[18]||(a[18]=(0,l.Lk)("label",null,"4. –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∫—Ä–∏—Ç–∏–∫—É –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[7]||(a[7]=e=>y.form.feedback=e),required:"",placeholder:"–ö–∞–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∏–¥–±–µ–∫, –æ—Ç–∫—Ä—ã—Ç –∫ –ø–µ—Ä–µ–º–µ–Ω–∞–º..."},null,512),[[r.Jo,y.form.feedback]])]),(0,l.Lk)("button",{type:"submit",disabled:y.loading},(0,o.v_)(y.loading?"–°–æ—Ö—Ä–∞–Ω—è–µ–º –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"),9,k)],32)),y.result?((0,l.uX)(),(0,l.CE)("div",f,[a[19]||(a[19]=(0,l.Lk)("h2",null,"üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏",-1)),(0,l.Lk)("div",{innerHTML:L.formatAnalysis(y.result)},null,8,b),(0,l.Lk)("button",{onClick:a[9]||(a[9]=(...e)=>L.resetForm&&L.resetForm(...e))},"üîÅ –ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫")])):(0,l.Q3)("",!0)])}var y={data(){return{form:{name:"",role:"",team_id:"",stress:"",communication:"",behavior:"",feedback:""},employees:[],selectedEmployee:null,teams:[],result:"",loading:!1}},async mounted(){await this.fetchTeams(),await this.fetchEmployees()},methods:{async fetchTeams(){try{const e=localStorage.getItem("token"),a=await fetch("/user_teams",{headers:{Authorization:`Bearer ${e}`}}),t=await a.json();this.teams=t}catch(e){alert("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–∞–Ω–¥")}},async fetchEmployees(){const e=await fetch("/employees"),a=await e.json();this.employees=a},async submitMotivation(){this.loading=!0;try{const e=await fetch("/motivation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),a=await e.json();e.ok?(this.result=a.analysis,await this.fetchEmployees()):alert(a.error)}catch(e){alert("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è")}finally{this.loading=!1}},selectEmployee(e){this.selectedEmployee=e,this.result=e.ai_analysis||"",this.form={name:e.name,role:e.role,team_id:e.team_id,stress:e.stress,communication:e.communication,behavior:e.behavior,feedback:e.feedback}},resetForm(){this.selectedEmployee=null,this.result="",this.form={name:"",role:"",team_id:"",stress:"",communication:"",behavior:"",feedback:""}},getAvatar(e){const a=e%12+1;return`/avatars/avatar${a}.png`},parseDisc(e){const a=e?.match(/\*\*–¢–∏–ø DISC:\*\*\s*(.+)/);return a?a[1].split("\n")[0].trim():"‚Äì"},formatAnalysis(e){return e.replace(/\*\*–¢–∏–ø DISC:\*\*/g,"<h3>–¢–∏–ø DISC</h3>").replace(/\*\*–ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã:\*\*/g,"<h3>‚úÖ –ú–æ—Ç–∏–≤–∞—Ç–æ—Ä—ã</h3>").replace(/\*\*–î–µ–º–æ—Ç–∏–≤–∞—Ç–æ—Ä—ã:\*\*/g,"<h3>‚ö†Ô∏è –î–µ–º–æ—Ç–∏–≤–∞—Ç–æ—Ä—ã</h3>").replace(/\*\*–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è:\*\*/g,"<h3>üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>").replace(/\n/g,"<br>")}}},L=t(1241);const g=(0,L.A)(y,[["render",v],["__scopeId","data-v-01ae7752"]]);var C=g}}]);
//# sourceMappingURL=66.8e9b616d.js.map