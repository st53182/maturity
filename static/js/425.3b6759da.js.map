{"version":3,"file":"js/425.3b6759da.js","mappings":"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","sources":["webpack://frontend/./src/views/PlanningPoker.vue","webpack://frontend/./src/views/PlanningPoker.vue?d4e0"],"sourcesContent":["<template>\r\n  <div class=\"poker-wrapper\">\r\n    <h1 class=\"poker-title\">üÉè Planning Poker ‚Äî –ö–æ–º–Ω–∞—Ç–∞ {{ roomId }}</h1>\r\n\r\n    <!-- üîπ –í—Ö–æ–¥ -->\r\n    <div v-if=\"!joined\" class=\"card poker-card\">\r\n      <input v-model=\"name\" placeholder=\"–í–∞—à–µ –∏–º—è\" class=\"form-control\" />\r\n      <select v-model=\"role\" class=\"form-control\">\r\n        <option disabled value=\"\">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</option>\r\n        <option>FE</option>\r\n        <option>BE</option>\r\n        <option>FullStack</option>\r\n        <option>QA</option>\r\n        <option>Analyst</option>\r\n      </select>\r\n      <button class=\"btn btn-purple\" @click=\"joinRoom\">üö™ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>\r\n    </div>\r\n\r\n    <!-- üîπ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ -->\r\n    <div v-else class=\"card poker-card\">\r\n  <div class=\"joined-info\">üë§ <strong>{{ name }}</strong> ({{ role }})</div>\r\n\r\n  <!-- üîπ –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ -->\r\n  <div class=\"story-box\">\r\n    <label for=\"story\">üìù –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:</label>\r\n    <textarea\r\n      id=\"story\"\r\n      v-model=\"storyDescription\"\r\n      class=\"form-control\"\r\n      placeholder=\"–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏ –∑–∞–¥–∞—á—É...\"\r\n    ></textarea>\r\n  </div>\r\n\r\n      <h2>üìå –í—ã–±–µ—Ä–∏—Ç–µ Story Point</h2>\r\n      <div class=\"sp-buttons\">\r\n        <button\r\n          v-for=\"sp in storyPoints\"\r\n          :key=\"sp\"\r\n          @click=\"selectSP(sp)\"\r\n          :class=\"['sp-btn', { selected: selectedSP === sp }]\"\r\n        >\r\n          {{ sp }}\r\n        </button>\r\n      </div>\r\n\r\n      <div v-if=\"selectedSP\" class=\"vote-result\">\r\n        <p>‚úÖ –í—ã –≤—ã–±—Ä–∞–ª–∏: <strong>{{ selectedSP }} SP</strong></p>\r\n        <button class=\"btn btn-blue\" @click=\"submitVote\">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å</button>\r\n      </div>\r\n<div class=\"participants-box\">\r\n  <h3>üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏</h3>\r\n  <ul>\r\n    <li v-for=\"p in participants\" :key=\"p.id\">\r\n      <strong>{{ p.name }}</strong> ({{ p.role }}) ‚Äî\r\n      <span v-if=\"votesVisible\">\r\n        {{ p.voted ? p.points + ' SP' : '‚Äî ‚ùå –ù–µ –≥–æ–ª–æ—Å–æ–≤–∞–ª' }}\r\n      </span>\r\n      <span v-else>\r\n        {{ p.voted ? 'üîí –û—Ü–µ–Ω–∫–∞ —Å–∫—Ä—ã—Ç–∞' : '‚ùå –ù–µ –≥–æ–ª–æ—Å–æ–≤–∞–ª' }}\r\n      </span>\r\n    </li>\r\n  </ul>\r\n\r\n  <button\r\n  class=\"btn btn-purple\"\r\n  @click=\"votesVisible = true\"\r\n  v-if=\"!votesVisible\"\r\n>\r\n  üëÅ –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ü–µ–Ω–∫–∏\r\n</button>\r\n\r\n</div>\r\n      <!-- üîπ –ü–æ–¥—Å–∫–∞–∑–∫–∏ -->\r\n      <div v-if=\"hints.length\" class=\"hints-box\">\r\n        <h3>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏:</h3>\r\n        <ul>\r\n          <li v-for=\"(hint, i) in hints\" :key=\"i\">‚Äî {{ hint.story }}</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      roomId: this.$route.params.roomId,\r\n      name: \"\",\r\n      role: \"\",\r\n      joined: false,\r\n      participantId: null,\r\n      storyPoints: [1, 2, 3, 5, 8, 13, 21],\r\n      selectedSP: null,\r\n      hints: [],\r\n      participants: [],\r\n      votesVisible: false,\r\n      storyDescription: \"\",\r\n      pollingInterval: null,\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    startPolling() {\r\n  this.pollingInterval = setInterval(() => {\r\n    this.fetchParticipants();\r\n  }, 5000); // üîÅ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥\r\n},\r\nstopPolling() {\r\n  if (this.pollingInterval) {\r\n    clearInterval(this.pollingInterval);\r\n    this.pollingInterval = null;\r\n  }\r\n},\r\n    async joinRoom() {\r\n      if (!this.name || !this.role) return alert(\"–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ —Ä–æ–ª—å\");\r\n\r\n      const res = await fetch(`/api/planning-room/${this.roomId}/join`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ name: this.name, role: this.role })\r\n      });\r\n      const data = await res.json();\r\n      this.participantId = data.participant_id;\r\n      this.joined = true;\r\n      await this.fetchParticipants();\r\n      this.startPolling();\r\n\r\n\r\n    },\r\n    selectSP(sp) {\r\n      this.selectedSP = sp;\r\n      this.fetchHints(sp);\r\n\r\n    },\r\n    async fetchParticipants() {\r\n  const res = await fetch(`/api/planning-room/${this.roomId}/participants`);\r\n  const data = await res.json();\r\n  this.participants = data.participants;\r\n},\r\n    async fetchHints(sp) {\r\n      const res = await fetch(\r\n        `/api/planning-room/${this.roomId}/hints?sp=${sp}&role=${this.role}`\r\n      );\r\n      const data = await res.json();\r\n      this.hints = data.hints || [];\r\n    },\r\n    async submitVote() {\r\n      await fetch(`/api/planning-room/${this.roomId}/vote`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          story: this.storyDescription || \"–ò—Å—Ç–æ—Ä–∏—è –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è\",\r\n          points: this.selectedSP,\r\n          participant_id: this.participantId,\r\n\r\n        })\r\n\r\n      });\r\n      await this.fetchParticipants();\r\n      alert(\"–ì–æ–ª–æ—Å —É—á—Ç—ë–Ω!\");\r\n    },\r\n      unmounted() {\r\n    this.stopPolling();\r\n  }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.participants-box {\r\n  margin-top: 30px;\r\n  background: #fefefe;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  box-shadow: 0 1px 4px rgba(0,0,0,0.05);\r\n}\r\n\r\n.poker-wrapper {\r\n  max-width: 700px;\r\n  margin: 0 auto;\r\n  padding: 24px;\r\n}\r\n.poker-title {\r\n  text-align: center;\r\n  color: #4b4f7c;\r\n  margin-bottom: 16px;\r\n}\r\n.card.poker-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\r\n  padding: 20px;\r\n}\r\n.form-control {\r\n  display: block;\r\n  width: 100%;\r\n  margin: 10px 0;\r\n  padding: 10px 14px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n}\r\n.btn {\r\n  margin-top: 10px;\r\n  padding: 10px 18px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n}\r\n.btn-purple {\r\n  background-color: #6C63FF;\r\n  color: white;\r\n}\r\n.btn-blue {\r\n  background-color: #478eff;\r\n  color: white;\r\n}\r\n.sp-buttons {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin: 16px 0;\r\n}\r\n.sp-btn {\r\n  border: 1px solid #6C63FF;\r\n  padding: 10px 18px;\r\n  border-radius: 8px;\r\n  background: white;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  transition: 0.3s;\r\n}\r\n.sp-btn.selected {\r\n  background: #6C63FF;\r\n  color: white;\r\n}\r\n.hints-box {\r\n  margin-top: 20px;\r\n  background: #f0f4ff;\r\n  border-left: 4px solid #6C63FF;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n}\r\n</style>\r\n","import { render } from \"./PlanningPoker.vue?vue&type=template&id=7d9536d1&scoped=true\"\nimport script from \"./PlanningPoker.vue?vue&type=script&lang=js\"\nexport * from \"./PlanningPoker.vue?vue&type=script&lang=js\"\n\nimport \"./PlanningPoker.vue?vue&type=style&index=0&id=7d9536d1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d9536d1\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$data","roomId","joined","_hoisted_4","_hoisted_5","_createTextVNode","name","role","_hoisted_6","for","id","_cache","$event","storyDescription","placeholder","_hoisted_7","_Fragment","_renderList","storyPoints","sp","onClick","$options","selectSP","_normalizeClass","selected","selectedSP","_hoisted_8","_hoisted_9","args","submitVote","_createCommentVNode","_hoisted_10","participants","p","votesVisible","_hoisted_11","voted","points","_hoisted_12","hints","length","_hoisted_13","hint","i","story","_hoisted_3","disabled","value","joinRoom","data","this","$route","params","participantId","pollingInterval","methods","startPolling","setInterval","fetchParticipants","stopPolling","clearInterval","alert","res","fetch","method","headers","body","JSON","stringify","json","participant_id","fetchHints","unmounted","__exports__","render"],"sourceRoot":""}