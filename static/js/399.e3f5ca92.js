"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[399],{9399:function(e,l,t){t.r(l),t.d(l,{default:function(){return F}});var a=t(6768),o=t(4232),r=t(5130);const s={class:"prep-container"},n={class:"subtitle"},i={class:"modern-form"},u={class:"form-grid"},p={class:"input-wrapper"},c={value:"story"},k={value:"epic"},d={class:"floating-label"},g={class:"input-wrapper"},m={class:"floating-label"},v={class:"input-wrapper textarea-wrapper"},f={class:"floating-label"},L={class:"input-wrapper textarea-wrapper"},b={class:"floating-label"},h={class:"actions"},y=["disabled"],_={key:0,class:"error"},x={key:0,class:"results"},C={key:0},w={key:1},$={key:2},E={key:3},P={class:"example"};function X(e,l,t,X,Q,T){return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("h1",null,(0,o.v_)(e.$t("backlogPrep.title")),1),(0,a.Lk)("p",n,(0,o.v_)(e.$t("backlogPrep.subtitle")),1),(0,a.Lk)("div",i,[(0,a.Lk)("div",u,[(0,a.Lk)("div",p,[l[6]||(l[6]=(0,a.Lk)("span",{class:"input-icon"},"üìã",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>Q.form.workType=e),class:(0,o.C4)(["modern-input modern-select",{"has-value":Q.form.workType}])},[l[5]||(l[5]=(0,a.Lk)("option",{value:""},null,-1)),(0,a.Lk)("option",c,(0,o.v_)(e.$t("backlogPrep.story")),1),(0,a.Lk)("option",k,(0,o.v_)(e.$t("backlogPrep.epic")),1)],2),[[r.u1,Q.form.workType]]),(0,a.Lk)("label",d,(0,o.v_)(e.$t("backlogPrep.workType")),1)]),(0,a.Lk)("div",g,[l[8]||(l[8]=(0,a.Lk)("span",{class:"input-icon"},"üåê",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>Q.form.language=e),class:(0,o.C4)(["modern-input modern-select",{"has-value":Q.form.language}])},l[7]||(l[7]=[(0,a.Lk)("option",{value:""},null,-1),(0,a.Lk)("option",{value:"ru"},"–†—É—Å—Å–∫–∏–π",-1),(0,a.Lk)("option",{value:"en"},"English",-1)]),2),[[r.u1,Q.form.language]]),(0,a.Lk)("label",m,(0,o.v_)(e.$t("backlogPrep.language")),1)])]),(0,a.Lk)("div",v,[l[9]||(l[9]=(0,a.Lk)("span",{class:"input-icon"},"üìù",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":l[2]||(l[2]=e=>Q.form.text=e),rows:"7",class:(0,o.C4)(["modern-input modern-textarea",{"has-value":Q.form.text}])},null,2),[[r.Jo,Q.form.text]]),(0,a.Lk)("label",f,(0,o.v_)(e.$t("backlogPrep.description")),1)]),(0,a.Lk)("div",L,[l[10]||(l[10]=(0,a.Lk)("span",{class:"input-icon"},"üéØ",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":l[3]||(l[3]=e=>Q.form.context=e),rows:"4",class:(0,o.C4)(["modern-input modern-textarea",{"has-value":Q.form.context}])},null,2),[[r.Jo,Q.form.context]]),(0,a.Lk)("label",b,(0,o.v_)(e.$t("backlogPrep.context")),1)])]),(0,a.Lk)("div",h,[(0,a.Lk)("button",{class:"primary",onClick:l[4]||(l[4]=(...e)=>T.analyze&&T.analyze(...e)),disabled:Q.loading},(0,o.v_)(Q.loading?e.$t("common.loading"):e.$t("backlogPrep.run")),9,y),Q.error?((0,a.uX)(),(0,a.CE)("span",_,(0,o.v_)(Q.error),1)):(0,a.Q3)("",!0)]),Q.result?((0,a.uX)(),(0,a.CE)("div",x,[Q.result.missing_fields?.length?((0,a.uX)(),(0,a.CE)("section",C,[(0,a.Lk)("h3",null,"üß© "+(0,o.v_)(e.$t("backlogPrep.missingFields")),1),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Q.result.missing_fields,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e},(0,o.v_)(e),1)))),128))])])):(0,a.Q3)("",!0),Q.result.questions?.length?((0,a.uX)(),(0,a.CE)("section",w,[(0,a.Lk)("h3",null,"‚ùì "+(0,o.v_)(e.$t("backlogPrep.questions")),1),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Q.result.questions,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e},(0,o.v_)(e),1)))),128))])])):(0,a.Q3)("",!0),Q.result.suggestions?.length?((0,a.uX)(),(0,a.CE)("section",$,[(0,a.Lk)("h3",null,"üí° "+(0,o.v_)(e.$t("backlogPrep.suggestions")),1),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Q.result.suggestions,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e},(0,o.v_)(e),1)))),128))])])):(0,a.Q3)("",!0),Q.result.improved_example?((0,a.uX)(),(0,a.CE)("section",E,[(0,a.Lk)("h3",null,"üìù "+(0,o.v_)(e.$t("backlogPrep.improvedExample")),1),(0,a.Lk)("div",P,(0,o.v_)(Q.result.improved_example),1)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])}var Q=t(4373),T={name:"BacklogPrep",data(){return{loading:!1,error:"",result:null,form:{text:"",context:"",workType:"story",language:"ru"}}},methods:{async analyze(){if(this.error="",this.result=null,this.form.text.trim()){this.loading=!0;try{const e=localStorage.getItem("token"),{data:l}=await Q.A.post("/api/backlog/prep",{text:this.form.text,context:this.form.context,work_type:this.form.workType,language:this.form.language},e?{headers:{Authorization:`Bearer ${e}`}}:void 0);this.result=l}catch(e){this.error=e?.response?.data?.error||e?.message||this.$t("common.error")}finally{this.loading=!1}}else this.error=this.$t("backlogPrep.validation")}}},I=t(1241);const z=(0,I.A)(T,[["render",X],["__scopeId","data-v-1a8c19c1"]]);var F=z}}]);
//# sourceMappingURL=399.e3f5ca92.js.map